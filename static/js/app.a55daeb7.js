(function(t){function e(e){for(var s,o,l=e[0],r=e[1],c=e[2],u=0,v=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&v.push(n[o][0]),n[o]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,l=1;l<a.length;l++){var r=a[l];0!==n[r]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("e778")},"04bf":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".header-sidebar[data-v-aaf89e60]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%}",""]),t.exports=e},"192d":function(t,e,a){"use strict";a("e8c0")},1983:function(t,e,a){"use strict";a("dcd3")},"321b":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"body,html{background-color:#ebecf1}#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:80px}",""]),t.exports=e},3573:function(t,e,a){var s=a("d176");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=a("499e").default;n("436648ca",s,!0,{sourceMap:!1,shadowMode:!1})},"3c4a":function(t,e,a){"use strict";a("3573")},"4aa5":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".vs-table--content[data-v-4bb9e92a]{overflow:hidden}td[data-v-4bb9e92a],th[data-v-4bb9e92a]{text-align:center;padding-left:16px;font-weight:600;font-size:.85rem}.vs-table--tbody-table .tr-values td[data-v-4bb9e92a]{padding-top:0;padding-bottom:0}.td-edit[data-v-4bb9e92a]{text-decoration:none}",""]),t.exports=e},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Navbar"),a("Sidebar"),a("vs-row",{attrs:{"vs-w":"12"}},[a("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-offset":"0.8","vs-w":"5.5"}},[a("Configuration"),a("Topology"),a("Statistics")],1),a("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-offset":"0.3","vs-w":"5"}},["Simulation"==t.mode?a("Simulation"):t._e(),a("Console",{attrs:{name:"comm",height:"300px"}})],1)],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-card",{attrs:{id:"topology"}},[a("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[a("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between"}},[a("vs-col",{attrs:{"vs-w":"3"}},[a("h3",[t._v("Topology")])]),a("vs-col",{attrs:{"vs-w":"4","vs-type":"flex","vs-justify":"flex-end"}},[a("vs-button",{attrs:{id:"viewBt",size:"small",color:t.viewActiveOnly?"rgb(255, 130, 0)":"success","icon-pack":"fas",type:"filled",icon:"fa-eye"},on:{click:t.toggleViewOption}},[t._v("\n            "+t._s(t.viewActiveOnly?"Active only":"All paths")+"\n          ")])],1)],1)],1),a("ECharts",{ref:"topo",attrs:{id:"chart",options:t.option,autoresize:""},on:{click:t.handleClick}}),a("vs-prompt",{attrs:{title:"Set link properties",active:t.activePrompt},on:{cancel:t.closePrompt,accept:t.acceptPrompt,close:t.closePrompt,"update:active":function(e){t.activePrompt=e}}},[a("div",{staticClass:"link-prompt"},[a("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[a("vs-col",{attrs:{"vs-w":"1"}},[a("span",[t._v("Loss")])]),a("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[a("vs-input",{model:{value:t.tmpLoss,callback:function(e){t.tmpLoss=e},expression:"tmpLoss"}})],1)],1),a("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[a("vs-col",{attrs:{"vs-w":"1"}},[a("span",[t._v("Failed")])]),a("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[a("vs-switch",{model:{value:t.tmpFailure,callback:function(e){t.tmpFailure=e},expression:"tmpFailure"}})],1)],1),a("vs-row",{staticStyle:{"margin-top":"3px","margin-bottom":"3px"},attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[a("vs-col",{attrs:{"vs-w":"1"}},[a("span",[t._v("Delay")])]),a("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[a("vs-input",{attrs:{placeholder:"100"},model:{value:t.tmpDelay,callback:function(e){t.tmpDelay=e},expression:"tmpDelay"}})],1)],1),a("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[a("vs-col",{attrs:{"vs-w":"1"}},[a("span",[t._v("Bandwidth")])]),a("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[a("vs-input",{attrs:{placeholder:"100"},model:{value:t.tmpBandwidth,callback:function(e){t.tmpBandwidth=e},expression:"tmpBandwidth"}})],1)],1)],1)])],1)},l=[],r=(a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9ca8")),c=(a("ef97"),a("23ee"),a("007d"),a("7f59"),{components:{ECharts:r["a"]},data:function(){var t=this;return{viewActiveOnly:!0,activeNodes:[],showOption:!1,activePrompt:!1,selectedLink:"",tmpFailure:0,tmpLoss:0,tmpDelay:1,tmpBandwidth:1,tmpDistance:1e3,linkStats:{},option:{tooltip:{trigger:"item",enterable:!0,formatter:function(e){if(e.name.indexOf(">")>0){var a={loss:"%",bandwidth:" Gbps",delay:" us"},s=t.linkStats[e.name];return e.name.indexOf("GCC")>0&&(a.delay=" s",a.bandwidth=" bps"),"Loss: "+s.Loss+a.loss+"<br>Delay: "+s.Delay+a.delay+"<br>Bandwidth: "+s.Bandwidth+a.bandwidth}return e.data.name}},grid:{right:"1%",left:"1%",top:"1%",bottom:"1%"},xAxis:{type:"value",position:"top",max:2050,interval:50,axisTick:{show:!1},axisLabel:{show:!1},axisLine:{show:!1},splitLine:{lineStyle:{width:1,opacity:.5}}},yAxis:{type:"value",inverse:!0,min:-100,max:1700,interval:50,axisTick:{show:!1},axisLabel:{show:!1},axisLine:{show:!1},splitLine:{lineStyle:{width:1,opacity:.5}}},graphic:{elements:[]},series:[{type:"graph",coordinateSystem:"cartesian2d",layout:"none",animation:!1,zoom:1.05,symbolSize:40,lineStyle:{width:2.2,color:"#555"},emphasis:{lineStyle:{width:5,color:"#000"},label:{show:!0}},label:{show:!0,fontSize:12.5},data:[{name:"GCC",value:[100,1338],itemStyle:{color:"purple"}},{name:"HMS",value:[530,1150],itemStyle:{}},{name:"STR",value:[650,325],itemStyle:{}},{name:"PWR",value:[1200,100],itemStyle:{}},{name:"ECLSS",value:[1750,325],itemStyle:{}},{name:"AGT",value:[1950,850],itemStyle:{}},{name:"INT",value:[1750,1375],itemStyle:{}},{name:"EXT",value:[1200,1600],itemStyle:{}},{name:"SW0",value:[1200,850],symbol:"rect",itemStyle:{color:"#0079A3"}},{name:"SW1",value:[810,1025],symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW2",value:[875,550],symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW3",value:[1200,400],symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW4",value:[1525,550],symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW5",value:[1650,850],symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW6",value:[1575,1150],symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW7",value:[1200,1300],symbol:"rect",itemStyle:{color:"deepskyblue"}}],links:[{source:"HMS",target:"GCC",lineStyle:{type:"dashed",width:2.5},emphasis:{lineStyle:{type:"dashed"}}},{source:"HMS",target:"SW1",lineStyle:{}},{source:"HMS",target:"SW2",lineStyle:{}},{source:"HMS",target:"SW7",lineStyle:{}},{source:"STR",target:"SW2",lineStyle:{}},{source:"STR",target:"SW1",lineStyle:{}},{source:"STR",target:"SW3",lineStyle:{}},{source:"PWR",target:"SW3",lineStyle:{}},{source:"PWR",target:"SW2",lineStyle:{}},{source:"PWR",target:"SW4",lineStyle:{}},{source:"ECLSS",target:"SW4",lineStyle:{}},{source:"ECLSS",target:"SW3",lineStyle:{}},{source:"ECLSS",target:"SW5",lineStyle:{}},{source:"AGT",target:"SW5",lineStyle:{}},{source:"AGT",target:"SW4",lineStyle:{}},{source:"AGT",target:"SW6",lineStyle:{}},{source:"INT",target:"SW6",lineStyle:{}},{source:"INT",target:"SW5",lineStyle:{}},{source:"INT",target:"SW7",lineStyle:{}},{source:"EXT",target:"SW7",lineStyle:{}},{source:"EXT",target:"SW1",lineStyle:{}},{source:"EXT",target:"SW6",lineStyle:{}},{source:"SW1",target:"SW2",lineStyle:{}},{source:"SW2",target:"SW3",lineStyle:{}},{source:"SW3",target:"SW4",lineStyle:{}},{source:"SW4",target:"SW5",lineStyle:{}},{source:"SW5",target:"SW6",lineStyle:{}},{source:"SW6",target:"SW7",lineStyle:{}},{source:"SW7",target:"SW1",lineStyle:{}},{source:"SW1",target:"SW0",lineStyle:{}},{source:"SW2",target:"SW0",lineStyle:{}},{source:"SW3",target:"SW0",lineStyle:{}},{source:"SW4",target:"SW0",lineStyle:{}},{source:"SW5",target:"SW0",lineStyle:{}},{source:"SW6",target:"SW0",lineStyle:{}},{source:"SW7",target:"SW0",lineStyle:{}},{source:"SW8",target:"SW0",lineStyle:{}}]},{z:1,type:"graph",coordinateSystem:"cartesian2d",layout:"none",zoom:1.05,symbolSize:45,xAxisIndex:0,yAxisIndex:0,center:[600,120],label:{show:!0,fontSize:12,color:"black",fontFamily:"Menlo"},itemStyle:{color:"transparent"},animation:!1,data:[{name:"TX:0\nRX:0\n\nGCC",value:[100,1268],label:{}},{name:"TX:0\nRX:0\n\nHMS",value:[530,1080],label:{}},{name:"TX:0\nRX:0\n\nSTR",value:[650,255],label:{}},{name:"TX:0\nRX:0\n\nPWR",value:[1200,30],label:{}},{name:"TX:0\nRX:0\n\nECLSS",value:[1750,255],label:{}},{name:"TX:0\nRX:0\n\nAGT",value:[1950,780],label:{}},{name:"TX:0\nRX:0\n\nINT",value:[1750,1305],label:{}},{name:"TX:0\nRX:0\n\nEXT",value:[1200,1530],label:{}},{name:"TX:0\nRX:0\n\nSW0",value:[1200,780],label:{}},{name:"TX:0\nRX:0\n\nSW1",value:[810,955],label:{}},{name:"TX:0\nRX:0\n\nSW2",value:[875,480],label:{}},{name:"TX:0\nRX:0\n\nSW3",value:[1200,330],label:{}},{name:"TX:0\nRX:0\n\nSW4",value:[1525,480],label:{}},{name:"TX:0\nRX:0\n\nSW5",value:[1650,780],label:{}},{name:"TX:0\nRX:0\n\nSW6",value:[1575,1080],label:{}},{name:"TX:0\nRX:0\n\nSW7",value:[1200,1230],label:{}}]}]}}},methods:{initLinkStatus:function(){this.linkStatus={};for(var t=0;t<this.option.series[0].links.length;t++){var e=this.option.series[0].links[t],a=e.source+" > "+e.target;this.linkStats[a]={Loss:0,Delay:1,Bandwidth:1,distance:30},a.indexOf("GCC")>0&&(this.linkStats[a]={Loss:0,Delay:600,Bandwidth:2e3,distance:2e11})}},handleClick:function(t){t.name.length<=5||(this.selectedLink=t.name,this.activePrompt=!0)},closePrompt:function(){this.activePrompt=!1},acceptPrompt:function(){this.linkStats[this.selectedLink].Loss=this.tmpLoss,this.linkStats[this.selectedLink].Delay=this.tmpDelay,this.linkStats[this.selectedLink].Bandwidth=this.tmpBandwidth;var t=new URLSearchParams;t.append("loss",this.tmpLoss),t.append("distance",this.tmpDistance),t.append("bandwidth",this.tmpBandwidth),this.$api.post("/api/link/".concat(this.selectedLink),t),this.activePrompt=!1},toggleViewOption:function(){this.viewActiveOnly=!this.viewActiveOnly,this.viewActiveOnly?this.highLightActiveNodes():this.clearHighlights()},clearHighlights:function(){for(var t=0;t<this.option.series[0].data.length;t++)this.option.series[0].data[t].itemStyle.opacity=1,this.option.series[1].data[t].label.show=!0;for(var e=0;e<this.option.series[0].links.length;e++)this.option.series[0].links[e].lineStyle.width=2.2},highLightActiveNodes:function(){if(0!=this.activeNodes.length){this.clearHighlights();for(var t=0;t<this.option.series[0].data.length;t++)this.activeNodes.indexOf(t)<0&&(this.option.series[0].data[t].itemStyle.opacity=.1,this.option.series[1].data[t].label.show=!1);for(var e=0;e<this.option.series[0].links.length;e++){var a=this.option.series[0].links[e];(this.activeNodes.indexOf(a.source)<0||this.activeNodes.indexOf(a.target)<0)&&(a.lineStyle.width=.1)}}},addDraggableGraphicEle:function(){var t=this.$refs.topo;for(var e in this.option.graphic.elements=[],this.option.series[0].data)this.option.graphic.elements.push({type:"circle",position:t.convertToPixel("grid",this.option.series[0].data[e].value),shape:{r:20},z:200,info:e,invisible:!0,draggable:!0,ondrag:function(t){window.topo.onDrag(t)}})},onDrag:function(t){var e=this.$refs.topo,a=parseInt(t.target.info),s=e.convertFromPixel("grid",[t.offsetX,t.offsetY]);this.option.series[0].data[a].value=s,this.option.series[1].data[a].value=[s[0],s[1]-70],this.addDraggableGraphicEle()}},mounted:function(){var t=this;window.topo=this,this.addDraggableGraphicEle(),this.initLinkStatus();var e={GCC:{idx:0,name:"GCC"},HMS:{idx:1,name:"HMS"},STR:{idx:2,name:"STR"},PWR:{idx:3,name:"PWR"},ECLSS:{idx:4,name:"ECLSS"},AGT:{idx:5,name:"AGT"},INT:{idx:6,name:"INT"},EXT:{idx:7,name:"EXT"},SW0:{idx:8,name:"SW0"},SW1:{idx:9,name:"SW1"},SW2:{idx:10,name:"SW2"},SW3:{idx:11,name:"SW3"},SW4:{idx:12,name:"SW4"},SW5:{idx:13,name:"SW5"},SW6:{idx:14,name:"SW6"},SW7:{idx:15,name:"SW7"}};this.$EventBus.$on("stats_comm",(function(a){var s=[];for(var n in a){var i="TX:"+a[n][0]+"\nRX:"+a[n][1]+"\n\n"+e[n].name;t.option.series[1].data[e[n].idx].name!=i&&s.push(e[n].idx,e[n].name),s.length>0&&(t.activeNodes=s),t.option.series[1].data[e[n].idx].name=i}}))},watch:{activeNodes:function(){this.viewActiveOnly&&this.highLightActiveNodes()}}}),d=c,u=(a("a50c"),a("2877")),v=Object(u["a"])(d,o,l,!1,null,"623efaec",null),p=v.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-card",[a("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[a("h3",[t._v("Configurations")])]),a("vs-tabs",{attrs:{value:1}},[a("vs-tab",{attrs:{index:"0",label:"IP Addr"}},[a("vs-table",{staticClass:"addr",attrs:{data:t.configAddrs,stripe:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,n){return a("vs-tr",{key:n},[a("vs-td",{attrs:{data:s[n].name}},[t._v("\n              "+t._s(e.name)+"\n            ")]),a("vs-td",{attrs:{data:s[n].local}},[t._v("\n              "+t._s(e.local)+"\n            ")]),a("vs-td",{attrs:{data:s[n].remote}},[t._v("\n              "+t._s(e.remote)+"\n            ")])],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v(" Subsys ")]),a("vs-th",[t._v(" Local ")]),a("vs-th",[t._v(" Remote ")])],1)],2)],1),a("vs-tab",{attrs:{index:"1",label:"Links"}},[a("vs-table",{staticClass:"links",attrs:{data:t.configLinks},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,n){return a("vs-tr",{key:n},[a("vs-td",{attrs:{data:s[n].link}},[t._v("\n              "+t._s(e.link)+"\n            ")]),"G"==e.link[0]?a("vs-td",{attrs:{data:e.bandwidth}},[t._v("\n              "+t._s(e.bandwidth)+" Kbps\n              "),a("template",{slot:"edit"},[a("vs-input",{staticClass:"inputx",model:{value:e.bandwidth,callback:function(a){t.$set(e,"bandwidth",a)},expression:"tr.bandwidth"}})],1)],2):a("vs-td",{attrs:{data:e.bandwidth}},[t._v("\n              "+t._s(e.bandwidth)+" Gbps\n              "),a("template",{slot:"edit"},[a("vs-input",{staticClass:"inputx",model:{value:e.bandwidth,callback:function(a){t.$set(e,"bandwidth",a)},expression:"tr.bandwidth"}})],1)],2),a("vs-td",{attrs:{data:e.speed}},[t._v("\n              "+t._s(e.speed)+"\n            ")]),"G"==e.link[0]?a("vs-td",{attrs:{data:e.distance}},[t._v("\n              "+t._s(t.wirelessDistance)+" km\n              "),a("template",{slot:"edit"},[a("vs-row",[a("vs-col",{staticStyle:{"text-align":"center","font-size":"0.95rem"},attrs:{"vs-w":"12"}},[t._v("\n                    Range: 54500000 ~ 401300000 km\n                  ")]),a("vs-col",[a("vs-slider",{attrs:{"text-fixed":"%"},model:{value:e.distance,callback:function(a){t.$set(e,"distance",a)},expression:"tr.distance"}})],1)],1)],1)],2):a("vs-td",{attrs:{data:e.distance}},[t._v("\n              "+t._s(e.distance)+" m\n              "),a("template",{slot:"edit"},[a("vs-row",[a("vs-col",{staticStyle:{"text-align":"center","font-size":"0.95rem"},attrs:{"vs-w":"12"}}),a("vs-col",[a("vs-slider",{attrs:{min:1,"text-fixed":"m"},model:{value:e.distance,callback:function(a){t.$set(e,"distance",a)},expression:"tr.distance"}})],1)],1)],1)],2),"G"==e.link[0]?a("vs-td",{attrs:{data:e.delay}},[t._v("\n              "+t._s(t.wirelessDelay.toFixed(2))+" s\n            ")]):a("vs-td",{attrs:{data:e.delay}},[t._v(" "+t._s(t.wiredDelay.toFixed(2))+" ns ")])],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",[t._v(" Link Type")]),a("vs-th",[t._v(" Bandwidth ")]),a("vs-th",[t._v(" Speed ")]),a("vs-th",[t._v(" Distance ")]),a("vs-th",[t._v(" Expected Delay (100 bytes)")])],1)],2)],1),a("vs-tab",{attrs:{index:"2",label:"Routing"}}),a("vs-tab",{attrs:{index:"3",label:"Scheduling"}})],1)],1)},h=[];function m(t,e){var a=null;return function(){clearTimeout(a);var s=arguments,n=this;a=setTimeout((function(){t.apply(n,s)}),e)}}var S={data:function(){return{configAddrs:[{name:"GCC",local:"0.0.0.0:10000",remote:"127.0.0.1:20000"},{name:"HMS",local:"0.0.0.0:10001",remote:"127.0.0.1:20001"},{name:"STR",local:"0.0.0.0:10002",remote:"127.0.0.1:20002"},{name:"PWR",local:"0.0.0.0:10003",remote:"127.0.0.1:20003"},{name:"ECLSS",local:"0.0.0.0:10004",remote:"127.0.0.1:20004"},{name:"AGT",local:"0.0.0.0:10005",remote:"127.0.0.1:20005"},{name:"INT",local:"0.0.0.0:10006",remote:"127.0.0.1:20006"},{name:"EXT",local:"0.0.0.0:10007",remote:"127.0.0.1:20007"}],configLinks:[{link:"In-habitat",bandwidth:1,speed:".77c",distance:30},{link:"Ground-habitat",bandwidth:2,speed:"c",distance:80}]}},computed:{wirelessDistance:function(){return Math.round(545e5+this.configLinks[1].distance/100*3468e5)},wiredDelay:function(){return 1e9*(this.configLinks[0].distance/231e6+800/(1024*this.configLinks[0].bandwidth*1024*1024))},wirelessDelay:function(){return this.wirelessDistance/3e5+800/(1024*this.configLinks[1].bandwidth*1024)}},watch:{wiredDelay:m((function(){var t=new URLSearchParams;t.append("type","wired"),t.append("distance",this.configLinks[0].distance),t.append("bandwidth",this.configLinks[0].bandwidth),this.$api.post("/api/links",t)}),200),wirelessDelay:m((function(){var t=new URLSearchParams;t.append("type","wireless"),t.append("distance",this.configLinks[1].distance),t.append("bandwidth",this.configLinks[1].bandwidth),this.$api.post("/api/links",t)}),200)},methods:{distanceFormatter:function(){return 10}}},b=S,g=(a("65c8"),Object(u["a"])(b,f,h,!1,null,"3ec96a91",null)),y=g.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-card",{attrs:{id:"console"}},[a("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[a("h3",[t._v("Console")])]),a("textarea",{ref:"logs",style:t.cssVars,attrs:{autofocus:"",id:"logs",disabled:""},domProps:{value:t.log},on:{change:function(e){return t.log=e}}})])},x=[],_=(a("ac1f"),a("5319"),{data:function(){return{dropped:!1,ws:{},cnt:0,log:""}},props:["name","height"],computed:{cssVars:function(){return{"--height":this.height}}},methods:{startWS:function(){var t=this,e=window.location;e.host,this.ws=new WebSocket("ws://127.0.0.1:8000/ws/"+this.name),this.ws.onopen=function(){t.dropped=!1,t.log="[+] Console connected",t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight}))},this.ws.onclose=function(){t.dropped?t.log+=".":t.log+="\n[!] Connection dropped, trying to reconnect...",t.dropped=!0,t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight})),setTimeout(t.startWS,1e3)},this.ws.onmessage=function(e){t.cnt>1e3&&t.cnt%1e3==1&&(t.log=""),t.cnt++;var a=JSON.parse(e.data);if(a.type,0==a.type){var s=new Date,n={hour12:!1};t.log+="\n["+s.toLocaleString("en-US",n).replace(",","")+"] "+a.msg,t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight}))}1==a.type&&t.$EventBus.$emit("stats_"+t.name,a["stats_"+t.name])}}},mounted:function(){this.startWS()}}),k=_,W=(a("3c4a"),Object(u["a"])(k,w,x,!1,null,"693b986b",null)),T=W.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vs-navbar",{staticClass:"navbarx",attrs:{id:"nbar",color:"linear-gradient(to right, #0A1E38 , #2A5788)"},model:{value:t.activeItem,callback:function(e){t.activeItem=e},expression:"activeItem"}},[a("div",{attrs:{slot:"title",id:"title"},slot:"title"},[a("vs-navbar-title",{attrs:{id:"ntitle"}},[a("div",[t._v("MCVT")]),a("div",{attrs:{id:"subtitle"}},[t._v("- Communication Network")])])],1),a("vs-navbar-item",[a("vs-row",{staticStyle:{"margin-bottom":"18px"},attrs:{"vs-align":"center","vs-type":"flex","vs-w":"12"}},[a("vs-col",{staticStyle:{color:"white"},attrs:{"vs-w":"1.5"}},[a("h4",[t._v("Mode:")])]),a("vs-col",{attrs:{"vs-offset":"2.5","vs-w":"4"}},[a("vs-select",{attrs:{id:"mode-select"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},t._l(t.modes,(function(t,e){return a("vs-select-item",{key:e,attrs:{value:t.value,text:t.text}})})),1)],1)],1)],1),a("vs-navbar-item",{staticStyle:{"margin-bottom":"18px",color:"white"},attrs:{id:"uptime"}},[t._v("\n      Uptime: "+t._s(t.d)+" day"),t.d>1?a("span",[t._v("s")]):t._e(),t._v(" "+t._s(t.h.toString().padStart(2,"0"))+":"+t._s(t.m.toString().padStart(2,"0"))+":"+t._s(t.s.toString().padStart(2,"0"))+"\n    ")])],1)],1)},L=[],C={data:function(){return{modes:[{text:"Simulation",value:"Simulation"},{text:"Deployment",value:"Deployment"}],mode:"Simulation",popupActive:!1,activeItem:0,boottime:0,started:!1,s:0,m:0,h:0,d:0}},methods:{getUpTime:function(){var t=this;this.$api.get("/api/boottime").then((function(e){t.boottime=parseInt(e.data),setInterval((function(){var e=Date.now();e=Math.floor(e/1e3),t.s=Math.floor((e-t.boottime)%60),t.m=Math.floor((e-t.boottime)/60%60),t.h=Math.floor((e-t.boottime)/3600%24),t.d=Math.floor((e-t.boottime)/86400)}),1e3)}))},option:function(){}},mounted:function(){this.getUpTime()},watch:{mode:function(t){this.$EventBus.$emit("mode",t)}}},M=C,R=(a("192d"),Object(u["a"])(M,X,L,!1,null,"8cf09dea",null)),$=R.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-card",[a("div",{staticStyle:{"text-align":"left","z-index":"20"},attrs:{slot:"header"},slot:"header"},[a("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between"}},[a("vs-col",{attrs:{"vs-w":"3"}},[a("h3",[t._v("Flow Generator")])]),a("vs-col",{attrs:{"vs-w":"1.25","vs-type":"flex","vs-justify":"space-between"}},[a("vs-button",{attrs:{size:"small",color:"primary","icon-pack":"fas",type:"relief",disabled:t.started,icon:"fa-play"},on:{click:t.startSim}}),a("vs-button",{attrs:{size:"small",color:"danger","icon-pack":"fas",type:"relief",disabled:!t.started,icon:"fa-stop"},on:{click:t.stopSim}})],1)],1)],1),a("vs-row",{attrs:{"vs-align":"center"}},[a("vs-col",{attrs:{"vs-w":"12"}},[a("vs-table",{attrs:{data:t.im,multiple:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,n){return a("vs-tr",{key:n,attrs:{data:e}},[a("vs-td",{attrs:{data:s[n].name}},[t._v("\n              "+t._s(s[n].name)+"\n            ")]),t._l(e.dst,(function(s,n){return a("vs-td",{key:n,attrs:{data:s}},[t._v("\n              "+t._s(s)+"\n              "),a("template",{slot:"edit"},[a("vs-select",{attrs:{id:"mode-select"},model:{value:e.dst[n],callback:function(a){t.$set(e.dst,n,a)},expression:"tr.dst[i]"}},[a("vs-select-item",{attrs:{text:"X",value:"X"}}),a("vs-select-item",{attrs:{text:"-",value:"-"}})],1)],1)],2)})),a("vs-td",{attrs:{data:e.freq}},[t._v("\n              "+t._s(e.freq)+"\n              "),a("template",{slot:"edit"},[a("vs-input",{staticClass:"inputx",model:{value:e.freq,callback:function(a){t.$set(e,"freq",a)},expression:"tr.freq"}})],1)],2)],2)}))}}]),model:{value:t.selectedFlows,callback:function(e){t.selectedFlows=e},expression:"selectedFlows"}},[a("template",{slot:"thead"},[a("vs-th",[t._v("\n            Src \\ Dst\n          ")]),a("vs-th",[t._v("\n            GCC\n          ")]),a("vs-th",[t._v("\n            HMS\n          ")]),a("vs-th",[t._v("\n            STR\n          ")]),a("vs-th",[t._v("\n            PWR\n          ")]),a("vs-th",[t._v("\n            ECLSS\n          ")]),a("vs-th",[t._v("\n            AGT\n          ")]),a("vs-th",[t._v("\n            INT\n          ")]),a("vs-th",[t._v("\n            EXT\n          ")]),a("vs-th",[t._v("\n            Freq (Hz)\n          ")])],1)],2)],1)],1)],1)},A=[],O={data:function(){return{started:!1,selectedFlows:[],im:[{name:"GCC",id:0,dst:["-","X","-","-","-","-","-","-"],freq:"0.1"},{name:"HMS",id:1,dst:["X","-","-","-","-","X","-","-"],freq:"1"},{name:"STR",id:2,dst:["-","X","-","X","-","X","X","-"],freq:"10"},{name:"PWR",id:3,dst:["-","X","X","-","X","X","X","-"],freq:"2"},{name:"ECLSS",id:4,dst:["-","-","-","X","-","-","X","-"],freq:"2"},{name:"AGT",id:5,dst:["-","X","X","X","X","-","-","-"],freq:"5"},{name:"INT",id:6,dst:["-","-","X","X","X","-","-","-"],freq:"1"},{name:"EXT",id:7,dst:["-","-","X","X","X","-","-","-"],freq:"1"}]}},methods:{startSim:function(){for(var t=0,e=0;e<this.selectedFlows.length;e++)for(var a=0;a<8;a++)"X"==this.selectedFlows[e].dst[a]&&t++;t>0&&(this.started=!0,this.$api.post("/api/flows",this.selectedFlows),this.$vs.notify({title:"Simulation",text:"Submitted "+t+" flows"}))},stopSim:function(){this.selectedFlows=[],this.started=!1,this.$api.get("/api/flows/stop",this.selectedFlows),this.$vs.notify({title:"Simulation",text:"Stop all flows",color:"danger"})}},mounted:function(){var t=this;this.$api.get("/api/flows/start_flag").then((function(e){t.started="0"!=e.data}))}},D=O,P=(a("b54a"),Object(u["a"])(D,E,A,!1,null,"4bb9e92a",null)),z=P.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vs-card",[a("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[a("h3",[t._v("Statistics")])]),a("ECharts",{ref:"stats",attrs:{id:"chart",options:t.option,autoresize:""}})],1)},j=[],N={components:{ECharts:r["a"]},data:function(){return{option:{}}}},B=N,I=Object(u["a"])(B,G,j,!1,null,"32f37b2c",null),F=I.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"parentx"},[a("vs-sidebar",{staticClass:"sidebarx",attrs:{reduce:t.reduce,"reduce-not-rebound":t.reduceNotRebound,"reduce-not-hover-expand":t.notExpand,"hidden-background":t.hiddenBG,parent:"body","default-index":t.cur_index,color:"danger",spacer:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("div",{staticClass:"header-sidebar",attrs:{slot:"header"},slot:"header"},[a("vs-avatar",{attrs:{src:"https://www.purdue.edu/rethi/img/icons/Situational_Awareness_Icon.png"}})],1),a("vs-sidebar-group",{attrs:{open:"",title:"HMS",align:"left"}},[a("vs-sidebar-item",{attrs:{to:"/",index:"1",size:"small",icon:"dashboard"}},[t._v("\n        Dashboard\n      ")]),a("vs-sidebar-item",{attrs:{to:"/",index:"2",icon:"schedule"}},[t._v("\n        Scheduler\n      ")])],1)],1)],1)},q=[],U={data:function(){return{cur_index:1,active:!0,paths:["/dashboard","/scheduler","/analysis"],notExpand:!1,hiddenBG:!0,reduce:!0,reduceNotRebound:!0}},methods:{biu:function(){this.cur_index=this.paths.indexOf(this.$route.path)+1}},created:function(){}},V=U,J=(a("1983"),Object(u["a"])(V,H,q,!1,null,"aaf89e60",null)),K=J.exports,Y={name:"App",components:{Topology:p,Console:T,Navbar:$,Simulation:z,Configuration:y,Statistics:F,Sidebar:K},data:function(){return{mode:"Simulation"}},mounted:function(){var t=this;this.$EventBus.$on("mode",(function(e){t.mode=e}))}},Q=Y,Z=(a("034f"),Object(u["a"])(Q,n,i,!1,null,null,null)),tt=Z.exports,et=a("bc3a"),at=a.n(et),st=a("8c4f");s["default"].use(st["a"]);var nt=new st["a"]({routes:[{path:"/",redirect:"/dashboard"}]}),it=a("fb9a"),ot=a.n(it);a("04f2"),a("c789"),a("15f5"),a("7051");s["default"].config.productionTip=!1,s["default"].prototype.$EventBus=new s["default"],s["default"].use(ot.a);var lt=at.a.create();lt.defaults.baseURL="http://localhost:8000/",s["default"].prototype.$api=lt,new s["default"]({router:nt,render:function(t){return t(tt)}}).$mount("#app")},"65c8":function(t,e,a){"use strict";a("cc78")},"6c2c":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"#chart[data-v-623efaec],#topology[data-v-623efaec]{width:100%}#chart[data-v-623efaec]{height:550px}.link-prompt[data-v-623efaec]{font-size:1rem}#viewBt[data-v-623efaec]{width:105px;font-size:.75rem;font-weight:600}",""]),t.exports=e},"95da":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".navbarx[data-v-8cf09dea]{height:50px}#title[data-v-8cf09dea]{margin-left:40px}#uptime[data-v-8cf09dea]{font-size:1rem;font-weight:600;margin-left:20px;margin-right:30px}#button[data-v-8cf09dea]{margin-right:15px}#mode[data-v-8cf09dea]{font-size:1.5rem}#mode-select[data-v-8cf09dea]{width:110px}#nbar[data-v-8cf09dea]{height:98px;z-index:99;position:absolute;margin-top:-80px;color:#fff}#ntitle[data-v-8cf09dea]{font-size:1.5rem;text-align:left;margin-bottom:18px;margin-left:60px}#ntitle>#subtitle[data-v-8cf09dea]{font-size:1.3rem}.nbar-items[data-v-8cf09dea]{color:#fff}",""]),t.exports=e},"95e9":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".links[data-v-3ec96a91]{text-align:left}.links th[data-v-3ec96a91],td[data-v-3ec96a91]{font-size:.85rem}.addr[data-v-3ec96a91]{text-align:left}.addr td[data-v-3ec96a91]{font-size:.85rem}.addr .vs-table--tbody-table .tr-values td[data-v-3ec96a91]{padding-top:2px;padding-bottom:2px}",""]),t.exports=e},a50c:function(t,e,a){"use strict";a("ae00")},ae00:function(t,e,a){var s=a("6c2c");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=a("499e").default;n("37c2ff8b",s,!0,{sourceMap:!1,shadowMode:!1})},b54a:function(t,e,a){"use strict";a("ef49")},cc78:function(t,e,a){var s=a("95e9");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=a("499e").default;n("558b16ab",s,!0,{sourceMap:!1,shadowMode:!1})},d176:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"#logs[data-v-693b986b]{margin-top:1px;width:100%;height:var(--height);font-size:.8rem;line-height:1.3;border-radius:6px;padding:3px;box-sizing:border-box;resize:none;outline:none;text-transform:none;text-decoration:none}textarea[data-v-693b986b]{border:none}textarea[data-v-693b986b]:disabled{background:#fff}",""]),t.exports=e},dcd3:function(t,e,a){var s=a("04bf");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=a("499e").default;n("1c1c832a",s,!0,{sourceMap:!1,shadowMode:!1})},e778:function(t,e,a){var s=a("321b");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=a("499e").default;n("fa1ef42a",s,!0,{sourceMap:!1,shadowMode:!1})},e8c0:function(t,e,a){var s=a("95da");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=a("499e").default;n("24d47140",s,!0,{sourceMap:!1,shadowMode:!1})},ef49:function(t,e,a){var s=a("4aa5");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=a("499e").default;n("1f4ce168",s,!0,{sourceMap:!1,shadowMode:!1})}});
//# sourceMappingURL=app.a55daeb7.js.map