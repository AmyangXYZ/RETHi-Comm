(function(t){function e(e){for(var a,o,l=e[0],r=e[1],c=e[2],v=0,u=[];v<l.length;v++)o=l[v],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,l=1;l<s.length;l++){var r=s[l];0!==n[r]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0101":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".vs-table--content[data-v-187c1418]{overflow:hidden}td[data-v-187c1418],th[data-v-187c1418]{text-align:center;padding-left:16px;font-weight:600;font-size:.85rem}.vs-table--tbody-table .tr-values td[data-v-187c1418]{padding-top:0;padding-bottom:0}.td-edit[data-v-187c1418]{text-decoration:none}",""]),t.exports=e},"034f":function(t,e,s){"use strict";s("e778")},1983:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"td[data-v-a51aa846],th[data-v-a51aa846]{font-size:.85rem}",""]),t.exports=e},"1bda":function(t,e,s){var a=s("34a7");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=s("499e").default;n("78129c58",a,!0,{sourceMap:!1,shadowMode:!1})},2048:function(t,e,s){"use strict";s("f85d")},"321b":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:30px}",""]),t.exports=e},"34a7":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".navbarx[data-v-6740b247]{height:50px;margin-top:-30px;margin-bottom:20px}#title[data-v-6740b247]{margin-left:40px}#uptime[data-v-6740b247]{font-size:1rem;font-weight:600;margin-left:20px;margin-right:30px}#button[data-v-6740b247]{margin-right:15px}#mode[data-v-6740b247]{font-size:1.5rem}#mode-select[data-v-6740b247]{width:110px}",""]),t.exports=e},3573:function(t,e,s){var a=s("d176");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=s("499e").default;n("436648ca",a,!0,{sourceMap:!1,shadowMode:!1})},"3c4a":function(t,e,s){"use strict";s("3573")},"4b11":function(t,e,s){"use strict";s("4fa2")},"4fa2":function(t,e,s){var a=s("eacd");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=s("499e").default;n("b3b80d5a",a,!0,{sourceMap:!1,shadowMode:!1})},"4ff9":function(t,e,s){"use strict";s("a4e3")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Navbar"),s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-offset":"0.6","vs-w":"5.4"}},[s("Configuration"),s("Topology"),s("Statistics")],1),s("vs-col",{attrs:{"vs-offset":"0.4","vs-w":"5"}},["Simulation"==t.mode?s("Simulation"):t._e(),s("Fault"),s("Console",{attrs:{name:"comm",height:"300px"}})],1)],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{attrs:{id:"topology"}},[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between"}},[s("vs-col",{attrs:{"vs-w":"3"}},[s("h3",[t._v("Topology")])]),s("vs-col",{attrs:{"vs-w":"4","vs-type":"flex","vs-justify":"flex-end"}},[s("vs-button",{attrs:{id:"viewBt",size:"small",color:t.viewActiveOnly?"rgb(255, 130, 0)":"success","icon-pack":"fas",type:"filled",icon:"fa-eye"},on:{click:t.toggleViewOption}},[t._v("\n            "+t._s(t.viewActiveOnly?"Active only":"All paths")+"\n          ")])],1)],1)],1),s("ECharts",{ref:"topo",attrs:{id:"chart",options:t.option,autoresize:""},on:{click:t.handleClick}}),s("vs-prompt",{attrs:{title:"Set link properties",active:t.activePrompt},on:{cancel:t.closePrompt,accept:t.acceptPrompt,close:t.closePrompt,"update:active":function(e){t.activePrompt=e}}},[s("div",{staticClass:"link-prompt"},[s("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"1"}},[s("span",[t._v("Loss")])]),s("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[s("vs-input",{model:{value:t.tmpLoss,callback:function(e){t.tmpLoss=e},expression:"tmpLoss"}})],1)],1),s("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"1"}},[s("span",[t._v("Failed")])]),s("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[s("vs-switch",{model:{value:t.tmpFailure,callback:function(e){t.tmpFailure=e},expression:"tmpFailure"}})],1)],1),s("vs-row",{staticStyle:{"margin-top":"3px","margin-bottom":"3px"},attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"1"}},[s("span",[t._v("Delay")])]),s("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[s("vs-input",{attrs:{placeholder:"100"},model:{value:t.tmpDelay,callback:function(e){t.tmpDelay=e},expression:"tmpDelay"}})],1)],1),s("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"1"}},[s("span",[t._v("Bandwidth")])]),s("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[s("vs-input",{attrs:{placeholder:"100"},model:{value:t.tmpBandwidth,callback:function(e){t.tmpBandwidth=e},expression:"tmpBandwidth"}})],1)],1)],1)])],1)},l=[],r=(s("b0c0"),s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("9ca8")),c=(s("ef97"),s("23ee"),s("007d"),{components:{ECharts:r["a"]},data:function(){var t=this;return{viewActiveOnly:!0,activeNodes:[],showOption:!1,activePrompt:!1,selectedLink:"",tmpFailure:0,tmpLoss:0,tmpDelay:1,tmpBandwidth:1,tmpDistance:1e3,linkStats:{},option:{tooltip:{trigger:"item",enterable:!0,formatter:function(e){if(e.name.indexOf(">")>0){var s={loss:"%",bandwidth:" Gbps",delay:" us"},a=t.linkStats[e.name];return e.name.indexOf("GCC")>0&&(s.delay=" s",s.bandwidth=" bps"),"Loss: "+a.Loss+s.loss+"<br>Delay: "+a.Delay+s.delay+"<br>Bandwidth: "+a.Bandwidth+s.bandwidth}return e.data.name}},series:[{type:"graph",layout:"none",zoom:1.05,symbolSize:40,lineStyle:{width:2.2,color:"#555"},emphasis:{lineStyle:{width:5,color:"#000"},label:{show:!0}},label:{show:!0,fontSize:12.5},center:[600,130],nodes:[{name:"GCC",x:-350,y:638,itemStyle:{color:"purple"}},{name:"HMS",x:80,y:450,itemStyle:{}},{name:"STR",x:200,y:-375,itemStyle:{}},{name:"PWR",x:750,y:-600,itemStyle:{}},{name:"ECLSS",x:1300,y:-375,itemStyle:{}},{name:"AGT",x:1500,y:150,itemStyle:{}},{name:"INT",x:1300,y:675,itemStyle:{}},{name:"EXT",x:750,y:900,itemStyle:{}},{name:"SW0",x:750,y:150,symbol:"rect",itemStyle:{color:"#0079A3"}},{name:"SW1",x:360,y:325,symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW2",x:425,y:-150,symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW3",x:750,y:-300,symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW4",x:1075,y:-150,symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW5",x:1200,y:150,symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW6",x:1075,y:450,symbol:"rect",itemStyle:{color:"deepskyblue"}},{name:"SW7",x:750,y:600,symbol:"rect",itemStyle:{color:"deepskyblue"}}],links:[{source:"HMS",target:"GCC",lineStyle:{type:"dashed",width:2.5},emphasis:{lineStyle:{type:"dashed"}}},{source:"HMS",target:"SW1",lineStyle:{}},{source:"HMS",target:"SW2",lineStyle:{}},{source:"HMS",target:"SW7",lineStyle:{}},{source:"STR",target:"SW2",lineStyle:{}},{source:"STR",target:"SW1",lineStyle:{}},{source:"STR",target:"SW3",lineStyle:{}},{source:"PWR",target:"SW3",lineStyle:{}},{source:"PWR",target:"SW2",lineStyle:{}},{source:"PWR",target:"SW4",lineStyle:{}},{source:"ECLSS",target:"SW4",lineStyle:{}},{source:"ECLSS",target:"SW3",lineStyle:{}},{source:"ECLSS",target:"SW5",lineStyle:{}},{source:"AGT",target:"SW5",lineStyle:{}},{source:"AGT",target:"SW4",lineStyle:{}},{source:"AGT",target:"SW6",lineStyle:{}},{source:"INT",target:"SW6",lineStyle:{}},{source:"INT",target:"SW5",lineStyle:{}},{source:"INT",target:"SW7",lineStyle:{}},{source:"EXT",target:"SW7",lineStyle:{}},{source:"EXT",target:"SW1",lineStyle:{}},{source:"EXT",target:"SW6",lineStyle:{}},{source:"SW1",target:"SW2",lineStyle:{}},{source:"SW2",target:"SW3",lineStyle:{}},{source:"SW3",target:"SW4",lineStyle:{}},{source:"SW4",target:"SW5",lineStyle:{}},{source:"SW5",target:"SW6",lineStyle:{}},{source:"SW6",target:"SW7",lineStyle:{}},{source:"SW7",target:"SW1",lineStyle:{}},{source:"SW1",target:"SW0",lineStyle:{}},{source:"SW2",target:"SW0",lineStyle:{}},{source:"SW3",target:"SW0",lineStyle:{}},{source:"SW4",target:"SW0",lineStyle:{}},{source:"SW5",target:"SW0",lineStyle:{}},{source:"SW6",target:"SW0",lineStyle:{}},{source:"SW7",target:"SW0",lineStyle:{}},{source:"SW8",target:"SW0",lineStyle:{}}]},{z:-1,type:"graph",layout:"none",zoom:1.05,symbolSize:45,center:[600,120],label:{show:!0,fontSize:12,color:"black",fontFamily:"Menlo"},itemStyle:{color:"transparent"},nodes:[{name:"TX:0\nRX:0\n\nGCC",x:-350,y:558,label:{}},{name:"TX:0\nRX:0\n\nHMS",x:80,y:370,label:{}},{name:"TX:0\nRX:0\n\nSTR",x:200,y:-455,label:{}},{name:"TX:0\nRX:0\n\nPWR",x:750,y:-680,label:{}},{name:"TX:0\nRX:0\n\nECLSS",x:1300,y:-455,label:{}},{name:"TX:0\nRX:0\n\nAGT",x:1500,y:70,label:{}},{name:"TX:0\nRX:0\n\nINT",x:1300,y:595,label:{}},{name:"TX:0\nRX:0\n\nEXT",x:750,y:820,label:{}},{name:"TX:0\nRX:0\n\nSW0",x:750,y:70,label:{}},{name:"TX:0\nRX:0\n\nSW1",x:360,y:245,label:{}},{name:"TX:0\nRX:0\n\nSW2",x:425,y:-230,label:{}},{name:"TX:0\nRX:0\n\nSW3",x:750,y:-380,label:{}},{name:"TX:0\nRX:0\n\nSW4",x:1075,y:-230,label:{}},{name:"TX:0\nRX:0\n\nSW5",x:1200,y:70,label:{}},{name:"TX:0\nRX:0\n\nSW6",x:1075,y:370,label:{}},{name:"TX:0\nRX:0\n\nSW7",x:750,y:520,label:{}}]}]}}},methods:{initLinkStatus:function(){this.linkStatus={};for(var t=0;t<this.option.series[0].links.length;t++){var e=this.option.series[0].links[t],s=e.source+" > "+e.target;this.linkStats[s]={Loss:0,Delay:1,Bandwidth:1,distance:30},s.indexOf("GCC")>0&&(this.linkStats[s]={Loss:0,Delay:600,Bandwidth:2e3,distance:2e11})}},handleClick:function(t){t.name.length<=5||(this.selectedLink=t.name,this.activePrompt=!0)},closePrompt:function(){this.activePrompt=!1},acceptPrompt:function(){this.linkStats[this.selectedLink].Loss=this.tmpLoss,this.linkStats[this.selectedLink].Delay=this.tmpDelay,this.linkStats[this.selectedLink].Bandwidth=this.tmpBandwidth;var t=new URLSearchParams;t.append("loss",this.tmpLoss),t.append("distance",this.tmpDistance),t.append("bandwidth",this.tmpBandwidth),this.$api.post("/api/link/".concat(this.selectedLink),t),this.activePrompt=!1},toggleViewOption:function(){this.viewActiveOnly=!this.viewActiveOnly,this.viewActiveOnly?this.highLightActiveNodes():this.clearHighlights()},clearHighlights:function(){for(var t=0;t<this.option.series[0].nodes.length;t++)this.option.series[0].nodes[t].itemStyle.opacity=1,this.option.series[1].nodes[t].label.show=!0;for(var e=0;e<this.option.series[0].links.length;e++)this.option.series[0].links[e].lineStyle.width=2.2;this.option=JSON.parse(JSON.stringify(this.option))},highLightActiveNodes:function(){if(0!=this.activeNodes.length){this.clearHighlights();for(var t=0;t<this.option.series[0].nodes.length;t++)this.activeNodes.indexOf(t)<0&&(this.option.series[0].nodes[t].itemStyle.opacity=.1,this.option.series[1].nodes[t].label.show=!1);for(var e=0;e<this.option.series[0].links.length;e++){var s=this.option.series[0].links[e];(this.activeNodes.indexOf(s.source)<0||this.activeNodes.indexOf(s.target)<0)&&(s.lineStyle.width=.1)}}}},mounted:function(){var t=this;window.topo=this,this.initLinkStatus();var e={GCC:{idx:0,name:"GCC"},HMS:{idx:1,name:"HMS"},STR:{idx:2,name:"STR"},PWR:{idx:3,name:"PWR"},ECLSS:{idx:4,name:"ECLSS"},AGT:{idx:5,name:"AGT"},INT:{idx:6,name:"INT"},EXT:{idx:7,name:"EXT"},SW0:{idx:8,name:"SW0"},SW1:{idx:9,name:"SW1"},SW2:{idx:10,name:"SW2"},SW3:{idx:11,name:"SW3"},SW4:{idx:12,name:"SW4"},SW5:{idx:13,name:"SW5"},SW6:{idx:14,name:"SW6"},SW7:{idx:15,name:"SW7"}};this.$EventBus.$on("stats_comm",(function(s){var a=[];for(var n in s){var i="TX:"+s[n][0]+"\nRX:"+s[n][1]+"\n\n"+e[n].name;t.option.series[1].nodes[e[n].idx].name!=i&&a.push(e[n].idx,e[n].name),a.length>0&&(t.activeNodes=a),t.option.series[1].nodes[e[n].idx].name=i}}))},watch:{activeNodes:function(){this.viewActiveOnly&&this.highLightActiveNodes()}}}),d=c,v=(s("4ff9"),s("2877")),u=Object(v["a"])(d,o,l,!1,null,"1f229aec",null),p=u.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("h3",[t._v("Link Settings")])]),s("vs-table",{staticStyle:{"text-align":"left"},attrs:{data:t.settings},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,n){return s("vs-tr",{key:n},[s("vs-td",{attrs:{data:a[n].link}},[t._v("\n          "+t._s(e.link)+"\n        ")]),"G"==e.link[0]?s("vs-td",{attrs:{data:e.bandwidth}},[t._v("\n          "+t._s(e.bandwidth)+" Kbps\n          "),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",model:{value:e.bandwidth,callback:function(s){t.$set(e,"bandwidth",s)},expression:"tr.bandwidth"}})],1)],2):s("vs-td",{attrs:{data:e.bandwidth}},[t._v("\n          "+t._s(e.bandwidth)+" Gbps\n          "),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",model:{value:e.bandwidth,callback:function(s){t.$set(e,"bandwidth",s)},expression:"tr.bandwidth"}})],1)],2),s("vs-td",{attrs:{data:e.speed}},[t._v("\n          "+t._s(e.speed)+"\n        ")]),"G"==e.link[0]?s("vs-td",{attrs:{data:e.distance}},[t._v("\n          "+t._s(t.wirelessDistance)+" km\n          "),s("template",{slot:"edit"},[s("vs-row",[s("vs-col",{staticStyle:{"text-align":"center","font-size":"0.95rem"},attrs:{"vs-w":"12"}},[t._v("\n                Range: 54500000 ~ 401300000 km\n              ")]),s("vs-col",[s("vs-slider",{attrs:{"text-fixed":"%"},model:{value:e.distance,callback:function(s){t.$set(e,"distance",s)},expression:"tr.distance"}})],1)],1)],1)],2):s("vs-td",{attrs:{data:e.distance}},[t._v("\n          "+t._s(e.distance)+" m\n          "),s("template",{slot:"edit"},[s("vs-row",[s("vs-col",{staticStyle:{"text-align":"center","font-size":"0.95rem"},attrs:{"vs-w":"12"}}),s("vs-col",[s("vs-slider",{attrs:{min:1,"text-fixed":"m"},model:{value:e.distance,callback:function(s){t.$set(e,"distance",s)},expression:"tr.distance"}})],1)],1)],1)],2),"G"==e.link[0]?s("vs-td",{attrs:{data:e.delay}},[t._v("\n          "+t._s(t.wirelessDelay.toFixed(2))+" s\n        ")]):s("vs-td",{attrs:{data:e.delay}},[t._v(" "+t._s(t.wiredDelay.toFixed(2))+" ns ")])],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v(" Link Type")]),s("vs-th",[t._v(" Bandwidth ")]),s("vs-th",[t._v(" Speed ")]),s("vs-th",[t._v(" Distance ")]),s("vs-th",[t._v(" Expected Delay (100 bytes)")])],1)],2)],1)},h=[];function m(t,e){var s=null;return function(){clearTimeout(s);var a=arguments,n=this;s=setTimeout((function(){t.apply(n,a)}),e)}}var y={data:function(){return{settings:[{link:"In-habitat",bandwidth:1,speed:".77c",distance:30},{link:"Ground-habitat",bandwidth:2,speed:"c",distance:80}]}},computed:{wirelessDistance:function(){return Math.round(545e5+this.settings[1].distance/100*3468e5)},wiredDelay:function(){return 1e9*(this.settings[0].distance/231e6+800/(1024*this.settings[0].bandwidth*1024*1024))},wirelessDelay:function(){return this.wirelessDistance/3e5+800/(1024*this.settings[1].bandwidth*1024)}},watch:{wiredDelay:m((function(){var t=new URLSearchParams;t.append("type","wired"),t.append("distance",this.settings[0].distance),t.append("bandwidth",this.settings[0].bandwidth),this.$api.post("/api/links",t)}),200),wirelessDelay:m((function(){var t=new URLSearchParams;t.append("type","wireless"),t.append("distance",this.settings[1].distance),t.append("bandwidth",this.settings[1].bandwidth),this.$api.post("/api/links",t)}),200)},methods:{distanceFormatter:function(){return 10}}},S=y,b=(s("966c"),Object(v["a"])(S,f,h,!1,null,"a51aa846",null)),x=b.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{attrs:{id:"console"}},[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("h3",[t._v("Console")])]),s("textarea",{ref:"logs",style:t.cssVars,attrs:{autofocus:"",id:"logs",disabled:""},domProps:{value:t.log},on:{change:function(e){return t.log=e}}})])},w=[],_=(s("ac1f"),s("5319"),{data:function(){return{dropped:!1,ws:{},cnt:0,log:""}},props:["name","height"],computed:{cssVars:function(){return{"--height":this.height}}},methods:{startWS:function(){var t=this,e=window.location;e.host,this.ws=new WebSocket("ws://127.0.0.1:8000/ws/"+this.name),this.ws.onopen=function(){t.dropped=!1,t.log="[+] Console connected",t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight}))},this.ws.onclose=function(){t.dropped?t.log+=".":t.log+="\n[!] Connection dropped, trying to reconnect...",t.dropped=!0,t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight})),setTimeout(t.startWS,1e3)},this.ws.onmessage=function(e){t.cnt>1e3&&t.cnt%1e3==1&&(t.log=""),t.cnt++;var s=JSON.parse(e.data);if(s.type,0==s.type){var a=new Date,n={hour12:!1};t.log+="\n["+a.toLocaleString("en-US",n).replace(",","")+"] "+s.msg,t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight}))}1==s.type&&t.$EventBus.$emit("stats_"+t.name,s["stats_"+t.name])}}},mounted:function(){this.startWS()}}),W=_,k=(s("3c4a"),Object(v["a"])(W,g,w,!1,null,"693b986b",null)),T=k.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{attrs:{id:"fault"}},[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between"}},[s("vs-col",{attrs:{"vs-w":"3"}},[s("h3",[t._v("Fault Injector")])]),s("vs-col",{attrs:{"vs-w":"3","vs-type":"flex","vs-justify":"flex-end"}},[s("vs-button",{attrs:{id:"bt-apply",size:"small",color:"danger",type:"relief"},on:{click:t.inject}},[t._v("Inject")]),s("vs-button",{attrs:{id:"bt-reset",size:"small",color:"primary",type:"relief"},on:{click:t.reset}},[t._v("Reset")])],1)],1)],1),s("vs-row",{attrs:{"vs-w":"11","vs-align":"center","vs-type":"flex","vs-justify":"space-around"}},[s("vs-col",{attrs:{"vs-w":"2.5"}},[s("vs-row",{attrs:{"vs-w":"12","vs-align":"center"}},[s("vs-col",{staticClass:"input-label",attrs:{"vs-w":"4"}},[t._v("\n          Type\n        ")]),s("vs-col",{attrs:{"vs-w":"7"}},[s("vs-select",{staticClass:"selectbox",model:{value:t.selectedType,callback:function(e){t.selectedType=e},expression:"selectedType"}},t._l(t.types,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.value,text:t.text}})})),1)],1)],1)],1),s("vs-col",{attrs:{"vs-w":"3"}},[s("vs-row",{attrs:{"vs-w":"12","vs-align":"center"}},[s("vs-col",{staticClass:"input-label",attrs:{"vs-w":"5"}},[t._v("\n          Affected\n        ")]),s("vs-col",{attrs:{"vs-offset":"0.5","vs-w":"6"}},[s("vs-select",{staticClass:"selectbox",model:{value:t.affected,callback:function(e){t.affected=e},expression:"affected"}},t._l(t.components,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.value,text:t.text}})})),1)],1)],1)],1),s("vs-col",{attrs:{"vs-w":"3"}},[s("vs-row",{attrs:{"vs-w":"12","vs-align":"center"}},[s("vs-col",{staticClass:"input-label",attrs:{"vs-w":"8"}},[t._v("\n          Duration (s)\n        ")]),s("vs-col",{attrs:{"vs-offset":"2.85","vs-w":"0.5"}},[s("vs-input-number",{model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}})],1)],1)],1)],1)],1)},C=[],$={data:function(){return{selectedType:0,affected:1,duration:30,components:[{text:"SW0",value:0},{text:"SW1",value:1},{text:"SW2",value:2},{text:"SW3",value:3},{text:"SW4",value:4},{text:"SW5",value:5},{text:"SW6",value:6},{text:"SW7",value:7}],types:[{text:"Failure",value:0},{text:"Long Delay",value:1},{text:"Mis-routing",value:2},{text:"Congestion",value:3}]}},methods:{inject:function(){var t=new URLSearchParams;t.append("type",this.types[this.selectedType].text),t.append("duration",this.duration),this.$api.post("/api/fault/switch/"+this.affected,t),this.$vs.notify({title:"Fault Injector",text:"Inject "+this.types[this.selectedType].text+" fault on SW"+this.affected+", duration: "+this.duration+" s",color:"danger"})},reset:function(){this.selectType=0,this.affected=0,this.duration=0,this.$api.get("/api/fault/clear"),this.$vs.notify({title:"Fault Injector",text:"Reset and clear all faults",color:"primary"})}}},M=$,R=(s("4b11"),Object(v["a"])(M,X,C,!1,null,"feb40978",null)),L=R.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-navbar",{staticClass:"navbarx",model:{value:t.activeItem,callback:function(e){t.activeItem=e},expression:"activeItem"}},[s("div",{attrs:{slot:"title",id:"title"},slot:"title"},[s("vs-navbar-title",[s("h4",[t._v(" MCVT - Communication Network")])])],1),s("vs-navbar-item",[s("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"1.5"}},[s("h4",[t._v("Mode:")])]),s("vs-col",{attrs:{"vs-offset":"2.5","vs-w":"4"}},[s("vs-select",{attrs:{id:"mode-select"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},t._l(t.modes,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.value,text:t.text}})})),1)],1)],1)],1),s("vs-navbar-item",{attrs:{id:"uptime",index:"2"}},[t._v("\n      Uptime: "+t._s(t.d)+" day"),t.d>1?s("span",[t._v("s")]):t._e(),t._v(" "+t._s(t.h.toString().padStart(2,"0"))+":"+t._s(t.m.toString().padStart(2,"0"))+":"+t._s(t.s.toString().padStart(2,"0"))+"\n    ")])],1)],1)},E=[],j={data:function(){return{modes:[{text:"Simulation",value:"Simulation"},{text:"Deployment",value:"Deployment"}],mode:"Simulation",popupActive:!1,activeItem:0,boottime:0,started:!1,s:0,m:0,h:0,d:0}},methods:{getUpTime:function(){var t=this;this.$api.get("/api/boottime").then((function(e){t.boottime=parseInt(e.data),setInterval((function(){var e=Date.now();e=Math.floor(e/1e3),t.s=Math.floor((e-t.boottime)%60),t.m=Math.floor((e-t.boottime)/60%60),t.h=Math.floor((e-t.boottime)/3600%24),t.d=Math.floor((e-t.boottime)/86400)}),1e3)}))},option:function(){}},mounted:function(){this.getUpTime()},watch:{mode:function(t){this.$EventBus.$emit("mode",t)}}},P=j,D=(s("fc31"),Object(v["a"])(P,O,E,!1,null,"6740b247",null)),z=D.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between"}},[s("vs-col",{attrs:{"vs-w":"3"}},[s("h3",[t._v("Flow Generator")])]),s("vs-col",{attrs:{"vs-w":"1.25","vs-type":"flex","vs-justify":"space-between"}},[s("vs-button",{attrs:{size:"small",color:"primary","icon-pack":"fas",type:"relief",disabled:t.started,icon:"fa-play"},on:{click:t.startSim}}),s("vs-button",{attrs:{size:"small",color:"danger","icon-pack":"fas",type:"relief",disabled:!t.started,icon:"fa-stop"},on:{click:t.stopSim}})],1)],1)],1),s("vs-row",{attrs:{"vs-align":"center"}},[s("vs-col",{attrs:{"vs-w":"12"}},[s("vs-table",{attrs:{data:t.im,multiple:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,n){return s("vs-tr",{key:n,attrs:{data:e}},[s("vs-td",{attrs:{data:a[n].name}},[t._v("\n              "+t._s(a[n].name)+"\n            ")]),t._l(e.dst,(function(a,n){return s("vs-td",{key:n,attrs:{data:a}},[t._v("\n              "+t._s(a)+"\n              "),s("template",{slot:"edit"},[s("vs-select",{attrs:{id:"mode-select"},model:{value:e.dst[n],callback:function(s){t.$set(e.dst,n,s)},expression:"tr.dst[i]"}},[s("vs-select-item",{attrs:{text:"X",value:"X"}}),s("vs-select-item",{attrs:{text:"-",value:"-"}})],1)],1)],2)})),s("vs-td",{attrs:{data:e.freq}},[t._v("\n              "+t._s(e.freq)+"\n              "),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",model:{value:e.freq,callback:function(s){t.$set(e,"freq",s)},expression:"tr.freq"}})],1)],2)],2)}))}}]),model:{value:t.selectedFlows,callback:function(e){t.selectedFlows=e},expression:"selectedFlows"}},[s("template",{slot:"thead"},[s("vs-th",[t._v("\n            Src \\ Dst\n          ")]),s("vs-th",[t._v("\n            GCC\n          ")]),s("vs-th",[t._v("\n            HMS\n          ")]),s("vs-th",[t._v("\n            STR\n          ")]),s("vs-th",[t._v("\n            PWR\n          ")]),s("vs-th",[t._v("\n            ECLSS\n          ")]),s("vs-th",[t._v("\n            AGT\n          ")]),s("vs-th",[t._v("\n            INT\n          ")]),s("vs-th",[t._v("\n            EXT\n          ")]),s("vs-th",[t._v("\n            Freq (Hz)\n          ")])],1)],2)],1)],1)],1)},F=[],G={data:function(){return{started:!1,selectedFlows:[],im:[{name:"GCC",id:0,dst:["-","X","-","-","-","-","-","-"],freq:"0.1"},{name:"HMS",id:1,dst:["X","-","-","-","-","X","-","-"],freq:"1"},{name:"STR",id:2,dst:["-","X","-","X","-","X","X","-"],freq:"10"},{name:"PWR",id:3,dst:["-","X","X","-","X","X","X","-"],freq:"2"},{name:"ECLSS",id:4,dst:["-","-","-","X","-","-","X","-"],freq:"2"},{name:"AGT",id:5,dst:["-","X","X","X","X","-","-","-"],freq:"5"},{name:"INT",id:6,dst:["-","-","X","X","X","-","-","-"],freq:"1"},{name:"EXT",id:7,dst:["-","-","X","X","X","-","-","-"],freq:"1"}]}},methods:{startSim:function(){for(var t=0,e=0;e<this.selectedFlows.length;e++)for(var s=0;s<8;s++)"X"==this.selectedFlows[e].dst[s]&&t++;t>0&&(this.started=!0,this.$api.post("/api/flows",this.selectedFlows),this.$vs.notify({title:"Simulation",text:"Submitted "+t+" flows"}))},stopSim:function(){this.selectedFlows=[],this.started=!1,this.$api.get("/api/flows/stop",this.selectedFlows),this.$vs.notify({title:"Simulation",text:"Stop all flows",color:"danger"})}}},N=G,I=(s("2048"),Object(v["a"])(N,A,F,!1,null,"187c1418",null)),B=I.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("h3",[t._v("Statistics")])]),s("ECharts",{ref:"stats",attrs:{id:"chart",options:t.option,autoresize:""}})],1)},q=[],U={components:{ECharts:r["a"]},data:function(){return{option:{}}}},J=U,V=Object(v["a"])(J,H,q,!1,null,"32f37b2c",null),K=V.exports,Q={name:"App",components:{Topology:p,Console:T,Navbar:z,Simulation:B,Fault:L,Configuration:x,Statistics:K},data:function(){return{mode:"Simulation"}},mounted:function(){var t=this;this.$EventBus.$on("mode",(function(e){t.mode=e}))}},Y=Q,Z=(s("034f"),Object(v["a"])(Y,n,i,!1,null,null,null)),tt=Z.exports,et=s("bc3a"),st=s.n(et),at=s("fb9a"),nt=s.n(at);s("04f2"),s("c789"),s("15f5"),s("7051");a["default"].config.productionTip=!1,a["default"].prototype.$EventBus=new a["default"],a["default"].use(nt.a);var it=st.a.create();it.defaults.baseURL="http://localhost:8000/",a["default"].prototype.$api=it,new a["default"]({render:function(t){return t(tt)}}).$mount("#app")},"911d":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#chart[data-v-1f229aec],#topology[data-v-1f229aec]{width:100%}#chart[data-v-1f229aec]{height:550px}.link-prompt[data-v-1f229aec]{font-size:1rem}#viewBt[data-v-1f229aec]{width:105px;font-size:.75rem;font-weight:600}",""]),t.exports=e},"966c":function(t,e,s){"use strict";s("e450")},a4e3:function(t,e,s){var a=s("911d");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=s("499e").default;n("70aca05f",a,!0,{sourceMap:!1,shadowMode:!1})},d176:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#logs[data-v-693b986b]{margin-top:1px;width:100%;height:var(--height);font-size:.8rem;line-height:1.3;border-radius:6px;padding:3px;box-sizing:border-box;resize:none;outline:none;text-transform:none;text-decoration:none}textarea[data-v-693b986b]{border:none}textarea[data-v-693b986b]:disabled{background:#fff}",""]),t.exports=e},e450:function(t,e,s){var a=s("1983");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=s("499e").default;n("037e6d0e",a,!0,{sourceMap:!1,shadowMode:!1})},e778:function(t,e,s){var a=s("321b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=s("499e").default;n("fa1ef42a",a,!0,{sourceMap:!1,shadowMode:!1})},eacd:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".input-label[data-v-feb40978]{font-size:.95rem}.selectbox[data-v-feb40978]{width:110px}#bt-apply[data-v-feb40978]{border-radius:5px 0 0 5px}#bt-apply[data-v-feb40978],#bt-reset[data-v-feb40978]{font-size:.75rem;font-weight:600}#bt-reset[data-v-feb40978]{border-radius:0 5px 5px 0}",""]),t.exports=e},f85d:function(t,e,s){var a=s("0101");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=s("499e").default;n("3784ede1",a,!0,{sourceMap:!1,shadowMode:!1})},fc31:function(t,e,s){"use strict";s("1bda")}});
//# sourceMappingURL=app.9f3be4e7.js.map