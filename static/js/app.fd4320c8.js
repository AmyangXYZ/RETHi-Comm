(function(t){function e(e){for(var a,n,r=e[0],l=e[1],c=e[2],u=0,v=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&v.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(v.length)v.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},o=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("e778")},"045b":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#chart[data-v-7a8e0955],#topology[data-v-7a8e0955]{width:100%}#chart[data-v-7a8e0955]{height:550px}.link-prompt[data-v-7a8e0955]{font-size:1rem}.buttons[data-v-7a8e0955]{font-size:8rem;font-weight:600}.connect-select[data-v-7a8e0955]{width:80px}",""]),t.exports=e},"04bf":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".header-sidebar[data-v-aaf89e60]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%}",""]),t.exports=e},1119:function(t){t.exports=JSON.parse('{"tag":"default","nodes":[{"name":"GCC","value":[150,1300]},{"name":"HMS","value":[500,1150]},{"name":"STR","value":[650,300]},{"name":"PWR","value":[1200,75]},{"name":"ECLSS","value":[1750,300]},{"name":"AGT","value":[1900,850]},{"name":"INT","value":[1750,1425]},{"name":"EXT","value":[1200,1600]},{"name":"SW0","value":[1200,850]},{"name":"SW1","value":[850,1000]},{"name":"SW2","value":[875,525]},{"name":"SW3","value":[1200,375]},{"name":"SW4","value":[1525,525]},{"name":"SW5","value":[1650,850]},{"name":"SW6","value":[1525,1175]},{"name":"SW7","value":[1200,1300]}],"edges":[["HMS","GCC"],["HMS","SW1"],["HMS","SW2"],["HMS","SW7"],["STR","SW2"],["STR","SW1"],["STR","SW3"],["PWR","SW3"],["PWR","SW2"],["PWR","SW4"],["ECLSS","SW4"],["ECLSS","SW3"],["ECLSS","SW5"],["AGT","SW5"],["AGT","SW4"],["AGT","SW6"],["INT","SW6"],["INT","SW5"],["INT","SW7"],["EXT","SW7"],["EXT","SW1"],["EXT","SW6"],["SW1","SW2"],["SW2","SW3"],["SW3","SW4"],["SW4","SW5"],["SW5","SW6"],["SW6","SW7"],["SW7","SW1"],["SW1","SW0"],["SW2","SW0"],["SW3","SW0"],["SW4","SW0"],["SW5","SW0"],["SW6","SW0"],["SW7","SW0"]]}')},"11b2":function(t,e,s){"use strict";s("5195")},"192d":function(t,e,s){"use strict";s("e8c0")},1983:function(t,e,s){"use strict";s("dcd3")},"2d5e":function(t,e,s){var a=s("e809");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("79bc6b72",a,!0,{sourceMap:!1,shadowMode:!1})},"2f10":function(t,e,s){"use strict";s("748a")},"321b":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"body,html{background-color:#ebecf1}#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:80px}",""]),t.exports=e},3573:function(t,e,s){var a=s("d176");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("436648ca",a,!0,{sourceMap:!1,shadowMode:!1})},"3c4a":function(t,e,s){"use strict";s("3573")},"4aa5":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".vs-table--content[data-v-4bb9e92a]{overflow:hidden}td[data-v-4bb9e92a],th[data-v-4bb9e92a]{text-align:center;padding-left:16px;font-weight:600;font-size:.85rem}.vs-table--tbody-table .tr-values td[data-v-4bb9e92a]{padding-top:0;padding-bottom:0}.td-edit[data-v-4bb9e92a]{text-decoration:none}",""]),t.exports=e},"4f88":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#summary[data-v-115dc00a]{text-align:left;line-height:2;font-size:1rem;font-weight:500}#bar-chart[data-v-115dc00a]{width:100%;height:320px}",""]),t.exports=e},5195:function(t,e,s){var a=s("045b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("4472a144",a,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Navbar"),s("Sidebar"),s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-offset":"0.8","vs-w":"5.5"}},[s("Configuration"),s("Topology")],1),s("vs-col",{staticStyle:{"z-index":"99"},attrs:{"vs-offset":"0.2","vs-w":"5.1"}},["Simulation"==t.mode?s("Simulation"):t._e(),s("Fault"),s("Console",{attrs:{name:"comm",height:"358px"}})],1)],1),s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-offset":"0.8","vs-w":"6.8"}},[s("Statistics")],1),s("vs-col",{attrs:{"vs-offset":"0.2","vs-w":"3.8"}},[s("Traffic")],1)],1)],1)},o=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{attrs:{id:"topology"}},[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between"}},[s("vs-col",{attrs:{"vs-w":"3"}},[s("h3",[t._v("Topology")])]),s("vs-col",{attrs:{"vs-w":"8","vs-type":"flex","vs-justify":"flex-end"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.editMode,expression:"!editMode"}]},[s("vs-row",{attrs:{"vs-w":"12"}},[s("vs-col",{attrs:{"vs-offset":"-0.5","vs-w":"5"}},[s("vs-button",{key:"view",staticClass:"buttons",staticStyle:{width:"100px"},attrs:{size:"small",color:t.viewActiveOnly?"rgb(255, 130, 0)":"success","icon-pack":"fas",type:"filled",icon:"fa-eye"},on:{click:t.toggleViewOption}},[t._v("\n                "+t._s(t.viewActiveOnly?"Active only":"All paths")+"\n              ")])],1),s("vs-col",{attrs:{"vs-offset":"0.2","vs-w":"3"}},[s("vs-select",{staticClass:"connect-select",attrs:{width:"80px"},model:{value:t.selectedTopo,callback:function(e){t.selectedTopo=e},expression:"selectedTopo"}},t._l(t.topoTags,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:e,text:t}})})),1)],1),s("vs-col",{attrs:{"vs-offset":"1","vs-w":"2"}},[s("vs-button",{staticClass:"buttons",staticStyle:{"margin-left":"5px"},attrs:{size:"small",color:"primary","icon-pack":"fas",type:"filled",icon:"fa-edit","icon-after":""},on:{click:t.editEnable}},[t._v("\n                Edit\n              ")])],1)],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}]},[s("vs-row",{attrs:{"vs-type":"flex","vs-justify":"flex-start"}},[s("vs-col",{attrs:{"vs-offset":"-1","vs-w":"3"}},[s("vs-input",{staticStyle:{width:"80px"},attrs:{placeholder:"Tag"},model:{value:t.newTopoTag,callback:function(e){t.newTopoTag=e},expression:"newTopoTag"}})],1),s("vs-col",{attrs:{"vs-offset":"1.8","vs-w":"3"}},[s("vs-button",{staticClass:"buttons",attrs:{size:"small",color:"success","icon-pack":"fas",type:"filled",icon:"fa-save"},on:{click:t.editApply}},[t._v("\n                Save\n              ")])],1),s("vs-col",{attrs:{"vs-offset":"1","vs-w":"3"}},[s("vs-button",{staticClass:"buttons",attrs:{size:"small",color:"danger","icon-pack":"fas",type:"filled",icon:"fa-undo"},on:{click:t.editReset}},[t._v("\n                Reset\n              ")])],1)],1)],1)])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}]},[s("vs-row",{staticStyle:{"margin-top":"8px"},attrs:{"vs-type":"flex","vs-justify":"center"}},[s("vs-col",{attrs:{"vs-offset":"1","vs-w":"0.5"}},[s("vs-button",{staticClass:"buttons",attrs:{size:"small",color:"success","icon-pack":"fas",type:"filled",icon:"fa-plus"},on:{click:t.editAddSwitch}})],1),s("vs-col",{attrs:{"vs-offset":"0.1","vs-w":"1"}},[s("vs-button",{staticClass:"buttons",attrs:{size:"small",color:"danger","icon-pack":"fas",type:"filled",icon:"fa-minus"},on:{click:t.editAddSwitch}})],1),s("vs-col",{attrs:{"vs-offset":"1","vs-w":"1"}},[s("vs-button",{staticClass:"buttons",attrs:{size:"small",color:"primary","icon-pack":"fas",type:"filled",icon:"fa-arrows-alt-h"},on:{click:t.editConnect}})],1),s("vs-col",{attrs:{"vs-offset":"-0.5","vs-w":"1"}},[s("vs-select",{staticClass:"connect-select",model:{value:t.connectHost0,callback:function(e){t.connectHost0=e},expression:"connectHost0"}},t._l(t.nodes,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:e,text:t}})})),1)],1),s("vs-col",{attrs:{"vs-offset":"0.4","vs-w":"1"}},[s("vs-select",{staticClass:"connect-select",model:{value:t.connectHost1,callback:function(e){t.connectHost1=e},expression:"connectHost1"}},t._l(t.nodes,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:e,text:t}})})),1)],1),s("vs-col",{attrs:{"vs-offset":"0.35","vs-w":"1"}},[s("vs-button",{staticClass:"buttons",attrs:{size:"small",color:"danger","icon-pack":"fas",type:"filled",icon:"fa-cut"},on:{click:t.editCut}})],1)],1)],1)],1),s("ECharts",{ref:"topo",attrs:{id:"chart",options:t.option,autoresize:""},on:{click:t.handleClick}}),s("vs-prompt",{attrs:{title:"Set link properties",active:t.activePrompt},on:{cancel:t.closePrompt,accept:t.acceptPrompt,close:t.closePrompt,"update:active":function(e){t.activePrompt=e}}},[s("div",{staticClass:"link-prompt"},[s("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"1"}},[s("span",[t._v("Loss")])]),s("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[s("vs-input",{model:{value:t.tmpLoss,callback:function(e){t.tmpLoss=e},expression:"tmpLoss"}})],1)],1),s("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[s("vs-divider"),s("vs-col",{attrs:{"vs-w":"1"}},[s("span",[t._v("Failed")])]),s("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[s("vs-switch",{model:{value:t.tmpFailure,callback:function(e){t.tmpFailure=e},expression:"tmpFailure"}})],1)],1),s("vs-row",{staticStyle:{"margin-top":"3px","margin-bottom":"3px"},attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"1"}},[s("span",[t._v("Delay")])]),s("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[s("vs-input",{attrs:{placeholder:"100"},model:{value:t.tmpDelay,callback:function(e){t.tmpDelay=e},expression:"tmpDelay"}})],1)],1),s("vs-row",{attrs:{"vs-align":"center","vs-type":"flex","vs-justify":"center","vs-w":"12"}},[s("vs-col",{attrs:{"vs-w":"1"}},[s("span",[t._v("Bandwidth")])]),s("vs-col",{attrs:{"vs-offset":"2","vs-w":"5"}},[s("vs-input",{attrs:{placeholder:"100"},model:{value:t.tmpBandwidth,callback:function(e){t.tmpBandwidth=e},expression:"tmpBandwidth"}})],1)],1)],1)])],1)},r=[],l=(s("b0c0"),s("d3b7"),s("3ca3"),s("ddb0"),s("2b3d"),s("a434"),s("9ca8")),c=(s("ef97"),s("23ee"),s("007d"),s("7f59"),s("1119")),d={components:{ECharts:l["a"]},data:function(){var t=this;return{nodes_position:[],editMode:!1,viewActiveOnly:!1,activeNodes:[],showOption:!1,selectedTopo:0,topoTags:["default"],newTopoTag:"",activePrompt:!1,selectedLink:"",tmpFailure:0,tmpLoss:0,tmpDelay:1,tmpBandwidth:1,tmpDistance:1e3,linkStats:{},switchCnt:7,nodes:[],connectHost0:0,connectHost1:0,tooltipDefault:{trigger:"item",enterable:!0,formatter:function(e){if("edge"==e.dataType){var s={loss:"%",bandwidth:" Gbps",delay:" us"},a=t.linkStats[e.name];return e.name.indexOf("GCC")>0&&(s.delay=" s",s.bandwidth=" bps"),"Loss: "+a.Loss+s.loss+"<br>Delay: "+a.Delay+s.delay+"<br>Bandwidth: "+a.Bandwidth+s.bandwidth}return null}},tooltipEdit:{formatter:function(t){return"node"==t.dataType?"X: "+t.value[0]+"<br>Y: "+t.value[1]:null}},option:{tooltip:{},grid:{right:"1%",left:"1%",top:"1%",bottom:"1%"},xAxis:{type:"value",position:"top",max:2050,interval:50,axisTick:{show:!1},axisLabel:{show:!1},axisLine:{show:!1},splitLine:{lineStyle:{width:1,opacity:.5}}},yAxis:{type:"value",inverse:!0,min:-100,max:1700,interval:50,axisTick:{show:!1},axisLabel:{show:!1},axisLine:{show:!1},splitLine:{lineStyle:{width:1,opacity:.5}}},graphic:{elements:[]},series:[{type:"graph",coordinateSystem:"cartesian2d",layout:"none",animation:!1,symbolSize:40,lineStyle:{width:2.2,color:"#555"},emphasis:{lineStyle:{width:5,color:"#000"},label:{show:!0}},label:{show:!0,fontSize:12.5},data:[],links:[]},{z:1,type:"graph",coordinateSystem:"cartesian2d",layout:"none",symbolSize:45,label:{show:!0,fontSize:12,color:"black",fontFamily:"Menlo"},itemStyle:{color:"transparent"},animation:!1,data:[]}]},option_backup:{}}},methods:{getTopologyTags:function(){var t=this;this.$api.get("/api/topologies").then((function(e){if(0==e.data.flag)return t.postTopology("default"),void setTimeout(t.getTopologyTags,200);t.topoTags=e.data.data,t.topoTags.sort((function(t,e){return"default"==t?-1:"default"==e?1:0})),t.getTopology(t.topoTags[0])}))},postTopology:function(t){var e=[],s=[];if("default"==t){for(var a in c.nodes)e.push({name:c.nodes[a].name,value:c.nodes[a].value});for(var i in c.edges)s.push([c.edges[i][0],c.edges[i][1]])}else{for(var o in this.option.series[0].data)e.push({name:this.option.series[0].data[o].name,value:this.option.series[0].data[o].value});for(var n in this.option.series[0].links)s.push([this.option.series[0].links[n].source,this.option.series[0].links[n].target])}this.$api.post("/api/topology",{tag:t,nodes:e,edges:s})},getTopology:function(t){var e=this;this.$api.get("/api/topology?tag="+t).then((function(s){if(0==s.data.flag){if("default"!=t)return;setTimeout(e.getTopology,200,t)}e.nodes=[],e.switchCnt=0;for(var a=0;a<s.data.data.nodes.length;a++){var i=s.data.data.nodes[a];i.itemStyle={opacity:1},-1!=i.name.indexOf("GCC")&&(i.itemStyle.color="purple"),-1!=i.name.indexOf("SW")&&(e.switchCnt++,i.symbol="rect",i.itemStyle.color="deepskyblue","SW0"==i.name&&(i.itemStyle.color="#0079A3")),e.nodes.push(i.name)}for(var o=[],n=0;n<s.data.data.edges.length;n++){var r=s.data.data.edges[n],l={source:r[0],target:r[1],lineStyle:{}};"GCC"!=r[0]&&"GCC"!=r[1]||(l.lineStyle={type:"dashed",width:2.5},l.emphasis={lineStyle:{type:"dashed"}}),o.push(l)}e.option.series[0].data=s.data.data.nodes,e.option.series[0].links=o,e.$EventBus.$emit("topology",{nodes:e.nodes,edges:o}),e.initNodesStatistics(),e.initLinkStatus()}))},initNodesStatistics:function(){this.option.series[1].data=[];for(var t=0;t<this.option.series[0].data.length;t++)this.option.series[1].data.push({name:"TX:0\nRX:0\n\n"+this.option.series[0].data[t].name,value:[this.option.series[0].data[t].value[0],this.option.series[0].data[t].value[1]-75],label:{show:!0}})},monitorNodesStatistics:function(){var t=this;this.$EventBus.$on("stats_comm",(function(e){t.activeNodes=[];var s=[];for(var a in e){for(var i="TX:"+e[a][0]+"\nRX:"+e[a][1]+"\n\n"+a,o=0,n=0;n<t.nodes.length;n++)if(t.nodes[n]==a){o=n;break}t.option.series[1].data[o].name!=i&&s.push(o,a),s.length>0&&(t.activeNodes=s),t.option.series[1].data[o].name=i}}))},initLinkStatus:function(){this.linkStatus={};for(var t=0;t<this.option.series[0].links.length;t++){var e=this.option.series[0].links[t],s=e.source+" > "+e.target;this.linkStats[s]={Loss:0,Delay:1,Bandwidth:1,distance:30},s.indexOf("GCC")>0&&(this.linkStats[s]={Loss:0,Delay:600,Bandwidth:2e3,distance:2e11})}},handleClick:function(t){"node"==t.dataType?this.$EventBus.$emit("selectedNode",t.data.name):"edge"==t.dataType&&(this.selectedLink=t.name,this.activePrompt=!0)},closePrompt:function(){this.activePrompt=!1},acceptPrompt:function(){this.linkStats[this.selectedLink].Loss=this.tmpLoss,this.linkStats[this.selectedLink].Delay=this.tmpDelay,this.linkStats[this.selectedLink].Bandwidth=this.tmpBandwidth;var t=new URLSearchParams;t.append("loss",this.tmpLoss),t.append("distance",this.tmpDistance),t.append("bandwidth",this.tmpBandwidth),this.$api.post("/api/link/".concat(this.selectedLink),t),this.activePrompt=!1},toggleViewOption:function(){this.viewActiveOnly=!this.viewActiveOnly,this.viewActiveOnly?this.highlightActiveNodes():this.clearHighlights()},clearHighlights:function(){for(var t=0;t<this.option.series[0].data.length;t++)this.option.series[0].data[t].itemStyle.opacity=1,this.option.series[1].data[t].label.show=!0;for(var e=0;e<this.option.series[0].links.length;e++)this.option.series[0].links[e].lineStyle.width=2.2},highlightActiveNodes:function(){if(0!=this.activeNodes.length){this.clearHighlights();for(var t=0;t<this.option.series[0].data.length;t++)this.activeNodes.indexOf(t)<0&&(this.option.series[0].data[t].itemStyle.opacity=.1,this.option.series[1].data[t].label.show=!1);for(var e=0;e<this.option.series[0].links.length;e++){var s=this.option.series[0].links[e];(this.activeNodes.indexOf(s.source)<0||this.activeNodes.indexOf(s.target)<0)&&(s.lineStyle.width=.1)}}},addDraggableGraphicEle:function(){var t=this.$refs.topo;this.option.graphic.elements=[];for(var e=0;e<this.option.series[0].data.length;e++)this.option.graphic.elements.push({type:"circle",position:t.convertToPixel("grid",this.option.series[0].data[e].value),shape:{r:20},z:200,info:e,invisible:!0,draggable:!0,ondrag:function(t){window.topo.onDrag(t)},onmousemove:function(t){window.topo.onMove(t)},onmouseout:function(){window.topo.onMoveOut()}})},onDrag:function(t){var e=this.$refs.topo,s=parseInt(t.target.info),a=e.convertFromPixel("grid",[t.offsetX,t.offsetY]);a[0]=Math.floor(a[0])-Math.floor(a[0])%25,a[1]=Math.floor(a[1])-Math.floor(a[1])%25,this.option.series[0].data[s].value=a,this.option.series[1].data[s].value=[a[0],a[1]-75],this.addDraggableGraphicEle()},onMove:function(t){var e=this.$refs.topo,s=parseInt(t.target.info);e.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:s})},onMoveOut:function(){var t=this.$refs.topo;t.dispatchAction({type:"hideTip"})},editEnable:function(){this.editMode=!0,this.option_backup=JSON.stringify(this.option),this.addDraggableGraphicEle(),this.option.tooltip=this.tooltipEdit},editApply:function(){this.editMode=!1,this.option.graphic={elements:[]},this.postTopology(this.newTopoTag),this.topoTags.push(this.newTopoTag),this.selectedTopo=this.topoTags.length-1,this.newTopoTag="",this.option=JSON.parse(JSON.stringify(this.option)),this.option.tooltip=this.tooltipDefault},editReset:function(){this.editMode=!1,this.option.graphic={elements:[]},this.option=JSON.parse(this.option_backup),this.option.tooltip=this.tooltipDefault},editAddSwitch:function(){var t="SW"+this.switchCnt;this.switchCnt++,this.nodes.push(t),this.option.series[0].data.push({name:t,value:[150,100],symbol:"rect",itemStyle:{color:"deepskyblue",opacity:1}}),this.option.series[1].data.push({name:"TX:0\nRX:0\n\n"+t,value:[150,25],label:{show:!0}}),this.addDraggableGraphicEle()},editConnect:function(){this.connectHost0!=this.connectHost1&&this.option.series[0].links.push({source:this.nodes[this.connectHost0],target:this.nodes[this.connectHost1]})},editCut:function(){if(this.connectHost0!=this.connectHost1)for(var t=0;t<this.option.series[0].links.length;t++){var e=this.option.series[0].links[t];(e.source==this.nodes[this.connectHost0]&&e.target==this.nodes[this.connectHost1]||e.source==this.nodes[this.connectHost1]&&e.target==this.nodes[this.connectHost0])&&this.option.series[0].links.splice(t,1)}}},mounted:function(){window.topo=this,this.option.tooltip=this.tooltipDefault,this.getTopologyTags(),setTimeout(this.monitorNodesStatistics,200)},watch:{activeNodes:function(){this.viewActiveOnly&&this.highlightActiveNodes()},selectedTopo:function(){this.getTopology(this.topoTags[this.selectedTopo])}}},u=d,v=(s("11b2"),s("2877")),p=Object(v["a"])(u,n,r,!1,null,"7a8e0955",null),f=p.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("h3",[t._v("Configurations")])]),s("vs-tabs",{attrs:{value:1}},[s("vs-tab",{attrs:{index:"0",label:"IP Addr"}},[s("vs-table",{staticClass:"addr",attrs:{data:t.configAddrs,stripe:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,i){return s("vs-tr",{key:i},[s("vs-td",{attrs:{data:a[i].name}},[t._v("\n              "+t._s(e.name)+"\n            ")]),s("vs-td",{attrs:{data:a[i].local}},[t._v("\n              "+t._s(e.local)+"\n            ")]),s("vs-td",{attrs:{data:a[i].remote}},[t._v("\n              "+t._s(e.remote)+"\n            ")])],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v(" Subsys ")]),s("vs-th",[t._v(" Local ")]),s("vs-th",[t._v(" Remote ")])],1)],2)],1),s("vs-tab",{attrs:{index:"1",label:"Links"}},[s("vs-table",{staticClass:"links",attrs:{data:t.configLinks},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,i){return s("vs-tr",{key:i},[s("vs-td",{attrs:{data:a[i].link}},[t._v("\n              "+t._s(e.link)+"\n            ")]),"G"==e.link[0]?s("vs-td",{attrs:{data:e.bandwidth}},[t._v("\n              "+t._s(e.bandwidth)+" Kbps\n              "),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",model:{value:e.bandwidth,callback:function(s){t.$set(e,"bandwidth",s)},expression:"tr.bandwidth"}})],1)],2):s("vs-td",{attrs:{data:e.bandwidth}},[t._v("\n              "+t._s(e.bandwidth)+" Gbps\n              "),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",model:{value:e.bandwidth,callback:function(s){t.$set(e,"bandwidth",s)},expression:"tr.bandwidth"}})],1)],2),s("vs-td",{attrs:{data:e.speed}},[t._v("\n              "+t._s(e.speed)+"\n            ")]),"G"==e.link[0]?s("vs-td",{attrs:{data:e.distance}},[t._v("\n              "+t._s(t.wirelessDistance)+" km\n              "),s("template",{slot:"edit"},[s("vs-row",[s("vs-col",{staticStyle:{"text-align":"center","font-size":"0.95rem"},attrs:{"vs-w":"12"}},[t._v("\n                    Range: 54500000 ~ 401300000 km\n                  ")]),s("vs-col",[s("vs-slider",{attrs:{"text-fixed":"%"},model:{value:e.distance,callback:function(s){t.$set(e,"distance",s)},expression:"tr.distance"}})],1)],1)],1)],2):s("vs-td",{attrs:{data:e.distance}},[t._v("\n              "+t._s(e.distance)+" m\n              "),s("template",{slot:"edit"},[s("vs-row",[s("vs-col",{staticStyle:{"text-align":"center","font-size":"0.95rem"},attrs:{"vs-w":"12"}}),s("vs-col",[s("vs-slider",{attrs:{min:1,"text-fixed":"m"},model:{value:e.distance,callback:function(s){t.$set(e,"distance",s)},expression:"tr.distance"}})],1)],1)],1)],2),"G"==e.link[0]?s("vs-td",{attrs:{data:e.delay}},[t._v("\n              "+t._s(t.wirelessDelay.toFixed(2))+" s\n            ")]):s("vs-td",{attrs:{data:e.delay}},[t._v(" "+t._s(t.wiredDelay.toFixed(2))+" ns ")])],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",[t._v(" Link Type")]),s("vs-th",[t._v(" Bandwidth ")]),s("vs-th",[t._v(" Speed ")]),s("vs-th",[t._v(" Distance ")]),s("vs-th",[t._v(" Expected Delay (100 bytes)")])],1)],2)],1),s("vs-tab",{attrs:{index:"2",label:"Routing"}}),s("vs-tab",{attrs:{index:"3",label:"Scheduling"}})],1)],1)},m=[];function b(t,e){var s=null;return function(){clearTimeout(s);var a=arguments,i=this;s=setTimeout((function(){t.apply(i,a)}),e)}}var g={data:function(){return{configAddrs:[{name:"GCC",local:"0.0.0.0:10000",remote:"127.0.0.1:20000"},{name:"HMS",local:"0.0.0.0:10001",remote:"127.0.0.1:20001"},{name:"STR",local:"0.0.0.0:10002",remote:"127.0.0.1:20002"},{name:"PWR",local:"0.0.0.0:10003",remote:"127.0.0.1:20003"},{name:"ECLSS",local:"0.0.0.0:10004",remote:"127.0.0.1:20004"},{name:"AGT",local:"0.0.0.0:10005",remote:"127.0.0.1:20005"},{name:"INT",local:"0.0.0.0:10006",remote:"127.0.0.1:20006"},{name:"EXT",local:"0.0.0.0:10007",remote:"127.0.0.1:20007"}],configLinks:[{link:"In-habitat",bandwidth:1,speed:".77c",distance:30},{link:"Ground-habitat",bandwidth:2,speed:"c",distance:80}]}},computed:{wirelessDistance:function(){return Math.round(545e5+this.configLinks[1].distance/100*3468e5)},wiredDelay:function(){return 1e9*(this.configLinks[0].distance/231e6+800/(1024*this.configLinks[0].bandwidth*1024*1024))},wirelessDelay:function(){return this.wirelessDistance/3e5+800/(1024*this.configLinks[1].bandwidth*1024)}},watch:{wiredDelay:b((function(){var t=new URLSearchParams;t.append("type","wired"),t.append("distance",this.configLinks[0].distance),t.append("bandwidth",this.configLinks[0].bandwidth),this.$api.post("/api/links",t)}),200),wirelessDelay:b((function(){var t=new URLSearchParams;t.append("type","wireless"),t.append("distance",this.configLinks[1].distance),t.append("bandwidth",this.configLinks[1].bandwidth),this.$api.post("/api/links",t)}),200)},methods:{distanceFormatter:function(){return 10}}},y=g,w=(s("65c8"),Object(v["a"])(y,h,m,!1,null,"3ec96a91",null)),S=w.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{attrs:{id:"console"}},[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("h3",[t._v("Console")])]),s("textarea",{ref:"logs",style:t.cssVars,attrs:{autofocus:"",id:"logs",disabled:""},domProps:{value:t.log},on:{change:function(e){return t.log=e}}})])},_=[],k=(s("ac1f"),s("5319"),{data:function(){return{dropped:!1,ws:{},cnt:0,log:""}},props:["name","height"],computed:{cssVars:function(){return{"--height":this.height}}},methods:{startWS:function(){var t=this,e=window.location;e.host,this.ws=new WebSocket("ws://127.0.0.1:8000/ws/"+this.name),this.ws.onopen=function(){t.dropped=!1,t.log="[+] Console connected",t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight}))},this.ws.onclose=function(){t.dropped?t.log+=".":t.log+="\n[!] Connection dropped, trying to reconnect...",t.dropped=!0,t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight})),setTimeout(t.startWS,1e3)},this.ws.onmessage=function(e){t.cnt>1e3&&t.cnt%1e3==1&&(t.log=""),t.cnt++;var s=JSON.parse(e.data);if(s.type,0==s.type){var a=new Date,i={hour12:!1};t.log+="\n["+a.toLocaleString("en-US",i).replace(",","")+"] "+s.msg,t.$nextTick((function(){t.$refs.logs.scrollTop=t.$refs.logs.scrollHeight}))}1==s.type&&t.$EventBus.$emit("stats_"+t.name,s["stats_"+t.name])}}},mounted:function(){this.startWS()}}),T=k,C=(s("3c4a"),Object(v["a"])(T,x,_,!1,null,"693b986b",null)),W=C.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{attrs:{id:"fault"}},[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between"}},[s("vs-col",{attrs:{"vs-w":"3"}},[s("h3",[t._v("Fault Injector")])]),s("vs-col",{attrs:{"vs-w":"3","vs-type":"flex","vs-justify":"flex-end"}},[s("vs-button",{attrs:{id:"bt-apply",size:"small",color:"danger",type:"relief"},on:{click:t.inject}},[t._v("Inject")]),s("vs-button",{attrs:{id:"bt-reset",size:"small",color:"primary",type:"relief"},on:{click:t.reset}},[t._v("Reset")])],1)],1)],1),s("vs-row",{attrs:{"vs-w":"11","vs-align":"center","vs-type":"flex","vs-justify":"space-around"}},[s("vs-col",{attrs:{"vs-w":"2.5"}},[s("vs-row",{attrs:{"vs-w":"12","vs-align":"center"}},[s("vs-col",{staticClass:"input-label",attrs:{"vs-w":"4"}},[t._v("\n          Type\n        ")]),s("vs-col",{attrs:{"vs-w":"7"}},[s("vs-select",{staticClass:"selectbox",model:{value:t.selectedType,callback:function(e){t.selectedType=e},expression:"selectedType"}},t._l(t.types,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.value,text:t.text}})})),1)],1)],1)],1),s("vs-col",{attrs:{"vs-w":"3"}},[s("vs-row",{attrs:{"vs-w":"12","vs-align":"center"}},[s("vs-col",{staticClass:"input-label",attrs:{"vs-w":"5"}},[t._v("\n          Affected\n        ")]),s("vs-col",{attrs:{"vs-offset":"0.5","vs-w":"6"}},[s("vs-select",{staticClass:"selectbox",model:{value:t.affected,callback:function(e){t.affected=e},expression:"affected"}},t._l(t.components,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.value,text:t.text}})})),1)],1)],1)],1),s("vs-col",{attrs:{"vs-w":"3"}},[s("vs-row",{attrs:{"vs-w":"12","vs-align":"center"}},[s("vs-col",{staticClass:"input-label",attrs:{"vs-w":"8"}},[t._v("\n          Duration (s)\n        ")]),s("vs-col",{attrs:{"vs-offset":"2.85","vs-w":"0.5"}},[s("vs-input-number",{model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}})],1)],1)],1)],1)],1)},$=[],L={data:function(){return{selectedType:0,affected:1,duration:30,components:[{text:"SW0",value:0},{text:"SW1",value:1},{text:"SW2",value:2},{text:"SW3",value:3},{text:"SW4",value:4},{text:"SW5",value:5},{text:"SW6",value:6},{text:"SW7",value:7}],types:[{text:"Failure",value:0},{text:"Long Delay",value:1},{text:"Mis-routing",value:2},{text:"Congestion",value:3}]}},methods:{inject:function(){var t=new URLSearchParams;t.append("type",this.types[this.selectedType].text),t.append("duration",this.duration),this.$api.post("/api/fault/switch/"+this.affected,t),this.$vs.notify({title:"Fault Injector",text:"Inject "+this.types[this.selectedType].text+" fault on SW"+this.affected+", duration: "+this.duration+" s",color:"danger"})},reset:function(){this.selectType=0,this.affected=0,this.duration=0,this.$api.get("/api/fault/clear"),this.$vs.notify({title:"Fault Injector",text:"Reset and clear all faults",color:"primary"})}}},E=L,H=(s("2f10"),Object(v["a"])(E,M,$,!1,null,"54868f25",null)),O=H.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-navbar",{staticClass:"navbarx",attrs:{id:"nbar",color:"linear-gradient(to right, #0A1E38 , #2A5788)"},model:{value:t.activeItem,callback:function(e){t.activeItem=e},expression:"activeItem"}},[s("div",{attrs:{slot:"title",id:"title"},slot:"title"},[s("vs-navbar-title",{attrs:{id:"ntitle"}},[s("div",[t._v("MCVT")]),s("div",{attrs:{id:"subtitle"}},[t._v("- Communication Network")])])],1),s("vs-navbar-item",[s("vs-row",{staticStyle:{"margin-bottom":"18px"},attrs:{"vs-align":"center","vs-type":"flex","vs-w":"12"}},[s("vs-col",{staticStyle:{color:"white"},attrs:{"vs-w":"1.5"}},[s("h4",[t._v("Mode:")])]),s("vs-col",{attrs:{"vs-offset":"2.5","vs-w":"4"}},[s("vs-select",{attrs:{id:"mode-select"},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}},t._l(t.modes,(function(t,e){return s("vs-select-item",{key:e,attrs:{value:t.value,text:t.text}})})),1)],1)],1)],1),s("vs-navbar-item",{staticStyle:{"margin-bottom":"18px",color:"white"},attrs:{id:"uptime"}},[t._v("\n      Uptime: "+t._s(t.d)+" day"),t.d>1?s("span",[t._v("s")]):t._e(),t._v(" "+t._s(t.h.toString().padStart(2,"0"))+":"+t._s(t.m.toString().padStart(2,"0"))+":"+t._s(t.s.toString().padStart(2,"0"))+"\n    ")])],1)],1)},N=[],z={data:function(){return{modes:[{text:"Simulation",value:"Simulation"},{text:"Deployment",value:"Deployment"}],mode:"Simulation",popupActive:!1,activeItem:0,boottime:0,started:!1,s:0,m:0,h:0,d:0}},methods:{getUpTime:function(){var t=this;this.$api.get("/api/boottime").then((function(e){t.boottime=parseInt(e.data),setInterval((function(){var e=Date.now();e=Math.floor(e/1e3),t.s=Math.floor((e-t.boottime)%60),t.m=Math.floor((e-t.boottime)/60%60),t.h=Math.floor((e-t.boottime)/3600%24),t.d=Math.floor((e-t.boottime)/86400)}),1e3)}))},option:function(){}},mounted:function(){this.getUpTime()},watch:{mode:function(t){this.$EventBus.$emit("mode",t)}}},A=z,D=(s("192d"),Object(v["a"])(A,P,N,!1,null,"8cf09dea",null)),X=D.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",[s("div",{staticStyle:{"text-align":"left","z-index":"20"},attrs:{slot:"header"},slot:"header"},[s("vs-row",{attrs:{"vs-type":"flex","vs-justify":"space-between"}},[s("vs-col",{attrs:{"vs-w":"3"}},[s("h3",[t._v("Flow Generator")])]),s("vs-col",{attrs:{"vs-w":"1.25","vs-type":"flex","vs-justify":"space-between"}},[s("vs-button",{attrs:{size:"small",color:"primary","icon-pack":"fas",type:"relief",disabled:t.started,icon:"fa-play"},on:{click:t.startSim}}),s("vs-button",{attrs:{size:"small",color:"danger","icon-pack":"fas",type:"relief",disabled:!t.started,icon:"fa-stop"},on:{click:t.stopSim}})],1)],1)],1),s("vs-row",{attrs:{"vs-align":"center"}},[s("vs-col",{attrs:{"vs-w":"12"}},[s("vs-table",{attrs:{data:t.im,multiple:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,i){return s("vs-tr",{key:i,attrs:{data:e}},[s("vs-td",{attrs:{data:a[i].name}},[t._v("\n              "+t._s(a[i].name)+"\n            ")]),t._l(e.dst,(function(a,i){return s("vs-td",{key:i,attrs:{data:a}},[t._v("\n              "+t._s(a)+"\n              "),s("template",{slot:"edit"},[s("vs-select",{attrs:{id:"mode-select"},model:{value:e.dst[i],callback:function(s){t.$set(e.dst,i,s)},expression:"tr.dst[i]"}},[s("vs-select-item",{attrs:{text:"X",value:"X"}}),s("vs-select-item",{attrs:{text:"-",value:"-"}})],1)],1)],2)})),s("vs-td",{attrs:{data:e.freq}},[t._v("\n              "+t._s(e.freq)+"\n              "),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",model:{value:e.freq,callback:function(s){t.$set(e,"freq",s)},expression:"tr.freq"}})],1)],2)],2)}))}}]),model:{value:t.selectedFlows,callback:function(e){t.selectedFlows=e},expression:"selectedFlows"}},[s("template",{slot:"thead"},[s("vs-th",[t._v("\n            Src \\ Dst\n          ")]),s("vs-th",[t._v("\n            GCC\n          ")]),s("vs-th",[t._v("\n            HMS\n          ")]),s("vs-th",[t._v("\n            STR\n          ")]),s("vs-th",[t._v("\n            PWR\n          ")]),s("vs-th",[t._v("\n            ECLSS\n          ")]),s("vs-th",[t._v("\n            AGT\n          ")]),s("vs-th",[t._v("\n            INT\n          ")]),s("vs-th",[t._v("\n            EXT\n          ")]),s("vs-th",[t._v("\n            Freq (Hz)\n          ")])],1)],2)],1)],1)],1)},G=[],R={data:function(){return{started:!1,selectedFlows:[],im:[{name:"GCC",id:0,dst:["-","X","-","-","-","-","-","-"],freq:"0.1"},{name:"HMS",id:1,dst:["X","-","-","-","-","X","-","-"],freq:"1"},{name:"STR",id:2,dst:["-","X","-","X","-","X","X","-"],freq:"10"},{name:"PWR",id:3,dst:["-","X","X","-","X","X","X","-"],freq:"2"},{name:"ECLSS",id:4,dst:["-","-","-","X","-","-","X","-"],freq:"2"},{name:"AGT",id:5,dst:["-","X","X","X","X","-","-","-"],freq:"5"},{name:"INT",id:6,dst:["-","-","X","X","X","-","-","-"],freq:"1"},{name:"EXT",id:7,dst:["-","-","X","X","X","-","-","-"],freq:"1"}]}},methods:{startSim:function(){for(var t=0,e=0;e<this.selectedFlows.length;e++)for(var s=0;s<8;s++)"X"==this.selectedFlows[e].dst[s]&&t++;t>0&&(this.started=!0,this.$api.post("/api/flows",this.selectedFlows),this.$vs.notify({title:"Simulation",text:"Submitted "+t+" flows"}))},stopSim:function(){this.selectedFlows=[],this.started=!1,this.$api.get("/api/flows/stop",this.selectedFlows),this.$vs.notify({title:"Simulation",text:"Stop all flows",color:"danger"})}},mounted:function(){var t=this;this.$api.get("/api/flows/start_flag").then((function(e){t.started="0"!=e.data}))}},B=R,I=(s("b54a"),Object(v["a"])(B,j,G,!1,null,"4bb9e92a",null)),F=I.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{staticStyle:{height:"390px"}},[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("h3",[t._v("Statistics of "),s("span",{staticStyle:{"text-decoration":"underline"}},[t._v(t._s(t.selectedNode))])])]),s("vs-row",{attrs:{"vs-align":"center"}},[t.nodes_loaded?s("vs-col",{attrs:{"vs-offset":"0.2","vs-w":"2.5",id:"summary"}},[s("span",[t._v("\n        Inbound: "+t._s(t.stats_summary[t.selectedNode].inbound)+" pkts\n      ")]),s("br"),s("span",[t._v("\n        Outbound: "+t._s(t.stats_summary[t.selectedNode].outbound)+" pkts\n      ")]),s("br"),s("span",[t._v("\n        Average delay: "+t._s(t.stats_summary[t.selectedNode].avg_delay)+" us\n      ")]),s("br"),s("span",[t._v("\n        Fault count: "+t._s(t.stats_summary[t.selectedNode].fault_cnt)+"\n      ")])]):t._e(),s("vs-col",{attrs:{"vs-w":"9.3"}},[s("ECharts",{ref:"stats",attrs:{id:"bar-chart",options:t.optionBar,themes:"macarons",autoresize:""}})],1)],1)],1)},J=[],U=(s("94b1"),s("d28f"),s("0a6d"),{components:{ECharts:l["a"]},data:function(){return{selectedNode:"HMS",stats_summary:{},traffic_history:{},nodes_loaded:!1,nodes:[],refreshTimer:{},optionBar:{title:{},tooltip:{trigger:"axis"},grid:{top:"10%",bottom:"20%",right:"5%",left:"5%"},legend:{data:["Inbound","Outbound"]},dataZoom:[{type:"inside",start:0,end:100},{start:0,end:100,handleIcon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}}],xAxis:{type:"time",data:[]},yAxis:{name:"Traffic",type:"value",boundaryGap:["0%","20%"]},series:[{name:"Inbound",type:"bar",barCategoryGap:"40%",data:[],itemStyle:{color:"rgba(27,113,222,1)"}},{name:"Outbound",type:"bar",barCategoryGap:"40%",data:[],itemStyle:{color:"rgba(243,171,71,1)"}}]}}},methods:{drawStats:function(){var t=this;this.$api.get("/api/stats/"+this.selectedNode).then((function(e){if(0!=e.data.flag)for(var s in t.optionBar.series[0].data=[],t.optionBar.series[1].data=[],e.data.data){var a=e.data.data[s],i=0,o=0;s>0&&(i=a[1]-e.data.data[s-1][1],o=a[2]-e.data.data[s-1][2]),t.optionBar.series[0].data.push([a[0],i]),t.optionBar.series[1].data.push([a[0],o]),s==e.data.data.length-1&&(null==t.stats_summary[t.selectedNode]?t.stats_summary[t.selectedNode]={inbound:a[1],outbound:a[2],avg_delay:0,fault_cnt:0}:(t.stats_summary[t.selectedNode].inbound=a[1],t.stats_summary[t.selectedNode].outbound=a[2]),t.stats_summary=JSON.parse(JSON.stringify(t.stats_summary)))}}))}},mounted:function(){var t=this;this.$EventBus.$on("topology",(function(e){for(var s in t.nodes=e.nodes,t.nodes)t.stats_summary[t.nodes[s]]={inbound:0,outbound:0,avg_delay:0,fault_cnt:0};t.nodes_loaded=!0})),this.drawStats(),this.$EventBus.$on("selectedNode",(function(e){t.selectedNode=e,t.drawStats()}))},created:function(){},watch:{}}),V=U,Y=(s("a852"),Object(v["a"])(V,q,J,!1,null,"115dc00a",null)),Z=Y.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"parentx"},[s("vs-sidebar",{staticClass:"sidebarx",attrs:{reduce:t.reduce,"reduce-not-rebound":t.reduceNotRebound,"reduce-not-hover-expand":t.notExpand,"hidden-background":t.hiddenBG,parent:"body","default-index":t.cur_index,color:"danger",spacer:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[s("div",{staticClass:"header-sidebar",attrs:{slot:"header"},slot:"header"},[s("vs-avatar",{attrs:{src:"https://www.purdue.edu/rethi/img/icons/Situational_Awareness_Icon.png"}})],1),s("vs-sidebar-group",{attrs:{open:"",title:"HMS",align:"left"}},[s("vs-sidebar-item",{attrs:{to:"/",index:"1",size:"small",icon:"dashboard"}},[t._v("\n        Dashboard\n      ")]),s("vs-sidebar-item",{attrs:{to:"/",index:"2",icon:"schedule"}},[t._v("\n        Scheduler\n      ")])],1)],1)],1)},Q=[],tt={data:function(){return{cur_index:1,active:!0,paths:["/dashboard","/scheduler","/analysis"],notExpand:!1,hiddenBG:!0,reduce:!0,reduceNotRebound:!0}},methods:{biu:function(){this.cur_index=this.paths.indexOf(this.$route.path)+1}},created:function(){}},et=tt,st=(s("1983"),Object(v["a"])(et,K,Q,!1,null,"aaf89e60",null)),at=st.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-card",{staticStyle:{height:"390px"}},[s("div",{staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[s("h3",[t._v("Traffic Summary")])]),s("ECharts",{ref:"stats",attrs:{id:"pie-chart",options:t.optionPie,themes:"macarons",autoresize:""}}),s("ECharts",{ref:"stats",attrs:{id:"line-chart",options:t.optionLine,themes:"macarons",autoresize:""}})],1)},ot=[],nt=(s("c037"),s("627c"),{components:{ECharts:l["a"]},data:function(){var t=this;return{mdoe:["by-sender","by-receiver"],trafficAmountHistory:[],trafficPerSubsysHistory:{},trafficDiffPerSubsysHistory:{},selectedTs:0,optionLine:{tooltip:{trigger:"axis",formatter:function(e){return t.selectedTs=e[0].data[0],new Date(e[0].data[0]-5e3).toLocaleString("en-US",{hour12:!1}).substr(12,8)+"~"+e[0].axisValueLabel+"<br>"+e[0].data[1]+" packets"}},grid:{height:"30%",top:"15%"},xAxis:{type:"time",data:[]},yAxis:{name:"Packets",type:"value",boundaryGap:["50%","100%"]},series:[{lineStyle:{width:3},symbolSize:4,data:[],type:"line",smooth:!0}]},optionPie:{color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],tooltip:{trigger:"item"},series:[{type:"pie",top:"-2%",bottom:"0",radius:"80%",startAngle:225,stillShowZeroSum:!0,label:{position:"inside",fontSize:14,formatter:function(t){return t.data.value>0?"".concat(t.data.name):""}},data:[{value:1,name:"GCC"},{value:1,name:"HMS"},{value:1,name:"STR"},{value:1,name:"PWR"},{value:1,name:"ECLSS"},{value:1,name:"AGT"},{value:1,name:"INT"},{value:1,name:"EXT"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.7)"}}}]}}},methods:{updateLineChart:function(){var t=this;this.optionLine.series[0].data.push([+new Date,0]),this.$EventBus.$on("stats_comm",(function(e){var s=0,a=+new Date;for(var i in t.trafficDiffPerSubsysHistory[a]={},e)if(-1==e[i].indexOf("SW"))if(s+=e[i][1],null==t.trafficPerSubsysHistory[i])t.trafficPerSubsysHistory[i]=[{ts:a,traffic:e[i][1]}];else{for(var o in t.optionPie.series[0].data)if(t.optionPie.series[0].data[o].name==i){t.optionPie.series[0].data[o].value=e[i][1]-t.trafficPerSubsysHistory[i][t.trafficPerSubsysHistory[i].length-1].traffic,t.trafficDiffPerSubsysHistory[a][i]=t.optionPie.series[0].data[o].value;break}t.trafficPerSubsysHistory[i].push({ts:a,traffic:e[i][1]})}if(t.trafficAmountHistory.length>0){var n=s-t.trafficAmountHistory[t.trafficAmountHistory.length-1].traffic;n<0&&(n=0),t.optionLine.series[0].data.push([a,n])}t.optionLine.series[0].data.length>50&&t.optionLine.series[0].data.shift(),t.trafficAmountHistory.push({ts:a,traffic:s})}))}},mounted:function(){this.updateLineChart()},watch:{selectedTs:function(){for(var t in this.trafficDiffPerSubsysHistory[this.selectedTs])for(var e in this.optionPie.series[0].data)if(this.optionPie.series[0].data[e].name==t){this.optionPie.series[0].data[e].value=this.trafficDiffPerSubsysHistory[this.selectedTs][t];break}}}}),rt=nt,lt=(s("9ca6"),Object(v["a"])(rt,it,ot,!1,null,"77f5a23e",null)),ct=lt.exports,dt={name:"App",components:{Topology:f,Console:W,Navbar:X,Simulation:F,Fault:O,Configuration:S,Statistics:Z,Sidebar:at,Traffic:ct},data:function(){return{mode:"Simulation"}},mounted:function(){var t=this;this.$EventBus.$on("mode",(function(e){t.mode=e}))}},ut=dt,vt=(s("034f"),Object(v["a"])(ut,i,o,!1,null,null,null)),pt=vt.exports,ft=s("bc3a"),ht=s.n(ft),mt=s("8c4f");a["default"].use(mt["a"]);var bt=new mt["a"]({routes:[{path:"/",redirect:"/dashboard"}]}),gt=s("fb9a"),yt=s.n(gt);s("04f2"),s("c789"),s("15f5"),s("7051");a["default"].config.productionTip=!1,a["default"].prototype.$EventBus=new a["default"],a["default"].use(yt.a);var wt=ht.a.create();wt.defaults.baseURL="http://localhost:8000/",a["default"].prototype.$api=wt,new a["default"]({router:bt,render:function(t){return t(pt)}}).$mount("#app")},"65c8":function(t,e,s){"use strict";s("cc78")},"748a":function(t,e,s){var a=s("a463");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("71219d20",a,!0,{sourceMap:!1,shadowMode:!1})},"95da":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".navbarx[data-v-8cf09dea]{height:50px}#title[data-v-8cf09dea]{margin-left:40px}#uptime[data-v-8cf09dea]{font-size:1rem;font-weight:600;margin-left:20px;margin-right:30px}#button[data-v-8cf09dea]{margin-right:15px}#mode[data-v-8cf09dea]{font-size:1.5rem}#mode-select[data-v-8cf09dea]{width:110px}#nbar[data-v-8cf09dea]{height:98px;z-index:99;position:absolute;margin-top:-80px;color:#fff}#ntitle[data-v-8cf09dea]{font-size:1.5rem;text-align:left;margin-bottom:18px;margin-left:60px}#ntitle>#subtitle[data-v-8cf09dea]{font-size:1.3rem}.nbar-items[data-v-8cf09dea]{color:#fff}",""]),t.exports=e},"95e9":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".links[data-v-3ec96a91]{text-align:left}.links th[data-v-3ec96a91],td[data-v-3ec96a91]{font-size:.85rem}.addr[data-v-3ec96a91]{text-align:left}.addr td[data-v-3ec96a91]{font-size:.85rem}.addr .vs-table--tbody-table .tr-values td[data-v-3ec96a91]{padding-top:2px;padding-bottom:2px}",""]),t.exports=e},"9ca6":function(t,e,s){"use strict";s("2d5e")},a463:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".input-label[data-v-54868f25]{font-size:.95rem}.selectbox[data-v-54868f25]{width:110px}#bt-apply[data-v-54868f25]{border-radius:5px 0 0 5px}#bt-apply[data-v-54868f25],#bt-reset[data-v-54868f25]{font-size:.75rem;font-weight:600}#bt-reset[data-v-54868f25]{border-radius:0 5px 5px 0}",""]),t.exports=e},a852:function(t,e,s){"use strict";s("b452")},b452:function(t,e,s){var a=s("4f88");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("ad8b9b1e",a,!0,{sourceMap:!1,shadowMode:!1})},b54a:function(t,e,s){"use strict";s("ef49")},cc78:function(t,e,s){var a=s("95e9");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("558b16ab",a,!0,{sourceMap:!1,shadowMode:!1})},d176:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#logs[data-v-693b986b]{margin-top:1px;width:100%;height:var(--height);font-size:.8rem;line-height:1.3;border-radius:6px;padding:3px;box-sizing:border-box;resize:none;outline:none;text-transform:none;text-decoration:none}textarea[data-v-693b986b]{border:none}textarea[data-v-693b986b]:disabled{background:#fff}",""]),t.exports=e},dcd3:function(t,e,s){var a=s("04bf");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("1c1c832a",a,!0,{sourceMap:!1,shadowMode:!1})},e778:function(t,e,s){var a=s("321b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("fa1ef42a",a,!0,{sourceMap:!1,shadowMode:!1})},e809:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,"#line-chart[data-v-77f5a23e],#pie-chart[data-v-77f5a23e]{width:100%;height:200px}",""]),t.exports=e},e8c0:function(t,e,s){var a=s("95da");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("24d47140",a,!0,{sourceMap:!1,shadowMode:!1})},ef49:function(t,e,s){var a=s("4aa5");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("1f4ce168",a,!0,{sourceMap:!1,shadowMode:!1})}});
//# sourceMappingURL=app.fd4320c8.js.map